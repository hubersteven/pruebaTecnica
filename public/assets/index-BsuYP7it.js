(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Il(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const St={},Ur=[],an=()=>{},Bf=()=>!1,To=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bl=e=>e.startsWith("onUpdate:"),de=Object.assign,Rl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Dm=Object.prototype.hasOwnProperty,It=(e,t)=>Dm.call(e,t),lt=Array.isArray,Br=e=>wo(e)==="[object Map]",jf=e=>wo(e)==="[object Set]",ut=e=>typeof e=="function",zt=e=>typeof e=="string",tr=e=>typeof e=="symbol",Vt=e=>e!==null&&typeof e=="object",qf=e=>(Vt(e)||ut(e))&&ut(e.then)&&ut(e.catch),$f=Object.prototype.toString,wo=e=>$f.call(e),Om=e=>wo(e).slice(8,-1),Hf=e=>wo(e)==="[object Object]",Sl=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ls=Il(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},xm=/-\w/g,Gn=Ao(e=>e.replace(xm,t=>t.slice(1).toUpperCase())),km=/\B([A-Z])/g,wr=Ao(e=>e.replace(km,"-$1").toLowerCase()),zf=Ao(e=>e.charAt(0).toUpperCase()+e.slice(1)),oa=Ao(e=>e?`on${zf(e)}`:""),jn=(e,t)=>!Object.is(e,t),Ui=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Gf=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Cl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Iu;const Io=()=>Iu||(Iu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ys(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=zt(r)?Um(r):Ys(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(zt(e)||Vt(e))return e}const Mm=/;(?![^(]*\))/g,Lm=/:([^]+)/,Fm=/\/\*[^]*?\*\//g;function Um(e){const t={};return e.replace(Fm,"").split(Mm).forEach(n=>{if(n){const r=n.split(Lm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function bo(e){let t="";if(zt(e))t=e;else if(lt(e))for(let n=0;n<e.length;n++){const r=bo(e[n]);r&&(t+=r+" ")}else if(Vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Bm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jm=Il(Bm);function Kf(e){return!!e||e===""}const Wf=e=>!!(e&&e.__v_isRef===!0),Oe=e=>zt(e)?e:e==null?"":lt(e)||Vt(e)&&(e.toString===$f||!ut(e.toString))?Wf(e)?Oe(e.value):JSON.stringify(e,Qf,2):String(e),Qf=(e,t)=>Wf(t)?Qf(e,t.value):Br(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[aa(r,i)+" =>"]=s,n),{})}:jf(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>aa(n))}:tr(t)?aa(t):Vt(t)&&!lt(t)&&!Hf(t)?String(t):t,aa=(e,t="")=>{var n;return tr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let we;class qm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!t&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=we;try{return we=this,t()}finally{we=n}}}on(){++this._on===1&&(this.prevScope=we,we=this)}off(){this._on>0&&--this._on===0&&(we=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function $m(){return we}let Ct;const la=new WeakSet;class Xf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,la.has(this)&&(la.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bu(this),Zf(this);const t=Ct,n=ze;Ct=this,ze=!0;try{return this.fn()}finally{td(this),Ct=t,ze=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Nl(t);this.deps=this.depsTail=void 0,bu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?la.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ma(this)&&this.run()}get dirty(){return Ma(this)}}let Yf=0,Fs,Us;function Jf(e,t=!1){if(e.flags|=8,t){e.next=Us,Us=e;return}e.next=Fs,Fs=e}function Pl(){Yf++}function Vl(){if(--Yf>0)return;if(Us){let t=Us;for(Us=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Fs;){let t=Fs;for(Fs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Zf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function td(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Nl(r),Hm(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Ma(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js)||(e.globalVersion=Js,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ma(e))))return;e.flags|=2;const t=e.dep,n=Ct,r=ze;Ct=e,ze=!0;try{Zf(e);const s=e.fn(e._value);(t.version===0||jn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ct=n,ze=r,td(e),e.flags&=-3}}function Nl(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Nl(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ze=!0;const nd=[];function Tn(){nd.push(ze),ze=!1}function wn(){const e=nd.pop();ze=e===void 0?!0:e}function bu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ct;Ct=void 0;try{t()}finally{Ct=n}}}let Js=0;class zm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ct||!ze||Ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ct)n=this.activeLink=new zm(Ct,this),Ct.deps?(n.prevDep=Ct.depsTail,Ct.depsTail.nextDep=n,Ct.depsTail=n):Ct.deps=Ct.depsTail=n,rd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ct.depsTail,n.nextDep=void 0,Ct.depsTail.nextDep=n,Ct.depsTail=n,Ct.deps===n&&(Ct.deps=r)}return n}trigger(t){this.version++,Js++,this.notify(t)}notify(t){Pl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Vl()}}}function rd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)rd(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const La=new WeakMap,dr=Symbol(""),Fa=Symbol(""),Zs=Symbol("");function le(e,t,n){if(ze&&Ct){let r=La.get(e);r||La.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Dl),s.map=r,s.key=n),s.track()}}function yn(e,t,n,r,s,i){const a=La.get(e);if(!a){Js++;return}const l=c=>{c&&c.trigger()};if(Pl(),t==="clear")a.forEach(l);else{const c=lt(e),h=c&&Sl(n);if(c&&n==="length"){const f=Number(r);a.forEach((p,m)=>{(m==="length"||m===Zs||!tr(m)&&m>=f)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(Zs)),t){case"add":c?h&&l(a.get("length")):(l(a.get(dr)),Br(e)&&l(a.get(Fa)));break;case"delete":c||(l(a.get(dr)),Br(e)&&l(a.get(Fa)));break;case"set":Br(e)&&l(a.get(dr));break}}Vl()}function Vr(e){const t=At(e);return t===e?t:(le(t,"iterate",Zs),Be(e)?t:t.map(Ge))}function Ro(e){return le(e=At(e),"iterate",Zs),e}function xn(e,t){return An(e)?pr(e)?Wr(Ge(t)):Wr(t):Ge(t)}const Gm={__proto__:null,[Symbol.iterator](){return ca(this,Symbol.iterator,e=>xn(this,e))},concat(...e){return Vr(this).concat(...e.map(t=>lt(t)?Vr(t):t))},entries(){return ca(this,"entries",e=>(e[1]=xn(this,e[1]),e))},every(e,t){return gn(this,"every",e,t,void 0,arguments)},filter(e,t){return gn(this,"filter",e,t,n=>n.map(r=>xn(this,r)),arguments)},find(e,t){return gn(this,"find",e,t,n=>xn(this,n),arguments)},findIndex(e,t){return gn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gn(this,"findLast",e,t,n=>xn(this,n),arguments)},findLastIndex(e,t){return gn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ua(this,"includes",e)},indexOf(...e){return ua(this,"indexOf",e)},join(e){return Vr(this).join(e)},lastIndexOf(...e){return ua(this,"lastIndexOf",e)},map(e,t){return gn(this,"map",e,t,void 0,arguments)},pop(){return Ss(this,"pop")},push(...e){return Ss(this,"push",e)},reduce(e,...t){return Ru(this,"reduce",e,t)},reduceRight(e,...t){return Ru(this,"reduceRight",e,t)},shift(){return Ss(this,"shift")},some(e,t){return gn(this,"some",e,t,void 0,arguments)},splice(...e){return Ss(this,"splice",e)},toReversed(){return Vr(this).toReversed()},toSorted(e){return Vr(this).toSorted(e)},toSpliced(...e){return Vr(this).toSpliced(...e)},unshift(...e){return Ss(this,"unshift",e)},values(){return ca(this,"values",e=>xn(this,e))}};function ca(e,t,n){const r=Ro(e),s=r[t]();return r!==e&&!Be(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Km=Array.prototype;function gn(e,t,n,r,s,i){const a=Ro(e),l=a!==e&&!Be(e),c=a[t];if(c!==Km[t]){const p=c.apply(e,i);return l?Ge(p):p}let h=n;a!==e&&(l?h=function(p,m){return n.call(this,xn(e,p),m,e)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,e)}));const f=c.call(a,h,r);return l&&s?s(f):f}function Ru(e,t,n,r){const s=Ro(e);let i=n;return s!==e&&(Be(e)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,e)}):i=function(a,l,c){return n.call(this,a,xn(e,l),c,e)}),s[t](i,...r)}function ua(e,t,n){const r=At(e);le(r,"iterate",Zs);const s=r[t](...n);return(s===-1||s===!1)&&kl(n[0])?(n[0]=At(n[0]),r[t](...n)):s}function Ss(e,t,n=[]){Tn(),Pl();const r=At(e)[t].apply(e,n);return Vl(),wn(),r}const Wm=Il("__proto__,__v_isRef,__isVue"),sd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tr));function Qm(e){tr(e)||(e=String(e));const t=At(this);return le(t,"has",e),t.hasOwnProperty(e)}class id{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?i_:cd:i?ld:ad).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=lt(t);if(!s){let c;if(a&&(c=Gm[n]))return c;if(n==="hasOwnProperty")return Qm}const l=Reflect.get(t,n,fe(t)?t:r);if((tr(n)?sd.has(n):Wm(n))||(s||le(t,"get",n),i))return l;if(fe(l)){const c=a&&Sl(n)?l:l.value;return s&&Vt(c)?Ba(c):c}return Vt(l)?s?Ba(l):So(l):l}}class od extends id{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];const a=lt(t)&&Sl(n);if(!this._isShallow){const h=An(i);if(!Be(r)&&!An(r)&&(i=At(i),r=At(r)),!a&&fe(i)&&!fe(r))return h||(i.value=r),!0}const l=a?Number(n)<t.length:It(t,n),c=Reflect.set(t,n,r,fe(t)?t:s);return t===At(s)&&(l?jn(r,i)&&yn(t,"set",n,r):yn(t,"add",n,r)),c}deleteProperty(t,n){const r=It(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&yn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!tr(n)||!sd.has(n))&&le(t,"has",n),r}ownKeys(t){return le(t,"iterate",lt(t)?"length":dr),Reflect.ownKeys(t)}}class Xm extends id{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ym=new od,Jm=new Xm,Zm=new od(!0);const Ua=e=>e,Pi=e=>Reflect.getPrototypeOf(e);function t_(e,t,n){return function(...r){const s=this.__v_raw,i=At(s),a=Br(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=s[e](...r),f=n?Ua:t?Wr:Ge;return!t&&le(i,"iterate",c?Fa:dr),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Vi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function e_(e,t){const n={get(s){const i=this.__v_raw,a=At(i),l=At(s);e||(jn(s,l)&&le(a,"get",s),le(a,"get",l));const{has:c}=Pi(a),h=t?Ua:e?Wr:Ge;if(c.call(a,s))return h(i.get(s));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&le(At(s),"iterate",dr),s.size},has(s){const i=this.__v_raw,a=At(i),l=At(s);return e||(jn(s,l)&&le(a,"has",s),le(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,c=At(l),h=t?Ua:e?Wr:Ge;return!e&&le(c,"iterate",dr),l.forEach((f,p)=>s.call(i,h(f),h(p),a))}};return de(n,e?{add:Vi("add"),set:Vi("set"),delete:Vi("delete"),clear:Vi("clear")}:{add(s){!t&&!Be(s)&&!An(s)&&(s=At(s));const i=At(this);return Pi(i).has.call(i,s)||(i.add(s),yn(i,"add",s,s)),this},set(s,i){!t&&!Be(i)&&!An(i)&&(i=At(i));const a=At(this),{has:l,get:c}=Pi(a);let h=l.call(a,s);h||(s=At(s),h=l.call(a,s));const f=c.call(a,s);return a.set(s,i),h?jn(i,f)&&yn(a,"set",s,i):yn(a,"add",s,i),this},delete(s){const i=At(this),{has:a,get:l}=Pi(i);let c=a.call(i,s);c||(s=At(s),c=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&yn(i,"delete",s,void 0),h},clear(){const s=At(this),i=s.size!==0,a=s.clear();return i&&yn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=t_(s,e,t)}),n}function Ol(e,t){const n=e_(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(It(n,s)&&s in r?n:r,s,i)}const n_={get:Ol(!1,!1)},r_={get:Ol(!1,!0)},s_={get:Ol(!0,!1)};const ad=new WeakMap,ld=new WeakMap,cd=new WeakMap,i_=new WeakMap;function o_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a_(e){return e.__v_skip||!Object.isExtensible(e)?0:o_(Om(e))}function So(e){return An(e)?e:xl(e,!1,Ym,n_,ad)}function ud(e){return xl(e,!1,Zm,r_,ld)}function Ba(e){return xl(e,!0,Jm,s_,cd)}function xl(e,t,n,r,s){if(!Vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a_(e);if(i===0)return e;const a=s.get(e);if(a)return a;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function pr(e){return An(e)?pr(e.__v_raw):!!(e&&e.__v_isReactive)}function An(e){return!!(e&&e.__v_isReadonly)}function Be(e){return!!(e&&e.__v_isShallow)}function kl(e){return e?!!e.__v_raw:!1}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function l_(e){return!It(e,"__v_skip")&&Object.isExtensible(e)&&Gf(e,"__v_skip",!0),e}const Ge=e=>Vt(e)?So(e):e,Wr=e=>Vt(e)?Ba(e):e;function fe(e){return e?e.__v_isRef===!0:!1}function Ne(e){return hd(e,!1)}function c_(e){return hd(e,!0)}function hd(e,t){return fe(e)?e:new u_(e,t)}class u_{constructor(t,n){this.dep=new Dl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:At(t),this._value=n?t:Ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Be(t)||An(t);t=r?t:At(t),jn(t,n)&&(this._rawValue=t,this._value=r?t:Ge(t),this.dep.trigger())}}function sn(e){return fe(e)?e.value:e}const h_={get:(e,t,n)=>t==="__v_raw"?e:sn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return fe(s)&&!fe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function fd(e){return pr(e)?e:new Proxy(e,h_)}class f_{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return Jf(this,!0),!0}get value(){const t=this.dep.track();return ed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function d_(e,t,n=!1){let r,s;return ut(e)?r=e:(r=e.get,s=e.set),new f_(r,s,n)}const Ni={},Ji=new WeakMap;let cr;function p_(e,t=!1,n=cr){if(n){let r=Ji.get(n);r||Ji.set(n,r=[]),r.push(e)}}function g_(e,t,n=St){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:c}=n,h=$=>s?$:Be($)||s===!1||s===0?En($,1):En($);let f,p,m,y,P=!1,N=!1;if(fe(e)?(p=()=>e.value,P=Be(e)):pr(e)?(p=()=>h(e),P=!0):lt(e)?(N=!0,P=e.some($=>pr($)||Be($)),p=()=>e.map($=>{if(fe($))return $.value;if(pr($))return h($);if(ut($))return c?c($,2):$()})):ut(e)?t?p=c?()=>c(e,2):e:p=()=>{if(m){Tn();try{m()}finally{wn()}}const $=cr;cr=f;try{return c?c(e,3,[y]):e(y)}finally{cr=$}}:p=an,t&&s){const $=p,it=s===!0?1/0:s;p=()=>En($(),it)}const D=$m(),z=()=>{f.stop(),D&&D.active&&Rl(D.effects,f)};if(i&&t){const $=t;t=(...it)=>{$(...it),z()}}let j=N?new Array(e.length).fill(Ni):Ni;const q=$=>{if(!(!(f.flags&1)||!f.dirty&&!$))if(t){const it=f.run();if(s||P||(N?it.some((ct,A)=>jn(ct,j[A])):jn(it,j))){m&&m();const ct=cr;cr=f;try{const A=[it,j===Ni?void 0:N&&j[0]===Ni?[]:j,y];j=it,c?c(t,3,A):t(...A)}finally{cr=ct}}}else f.run()};return l&&l(q),f=new Xf(p),f.scheduler=a?()=>a(q,!1):q,y=$=>p_($,!1,f),m=f.onStop=()=>{const $=Ji.get(f);if($){if(c)c($,4);else for(const it of $)it();Ji.delete(f)}},t?r?q(!0):j=f.run():a?a(q.bind(null,!0),!0):f.run(),z.pause=f.pause.bind(f),z.resume=f.resume.bind(f),z.stop=z,z}function En(e,t=1/0,n){if(t<=0||!Vt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,fe(e))En(e.value,t,n);else if(lt(e))for(let r=0;r<e.length;r++)En(e[r],t,n);else if(jf(e)||Br(e))e.forEach(r=>{En(r,t,n)});else if(Hf(e)){for(const r in e)En(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&En(e[r],t,n)}return e}function ui(e,t,n,r){try{return r?e(...r):e()}catch(s){Co(s,t,n)}}function fn(e,t,n,r){if(ut(e)){const s=ui(e,t,n,r);return s&&qf(s)&&s.catch(i=>{Co(i,t,n)}),s}if(lt(e)){const s=[];for(let i=0;i<e.length;i++)s.push(fn(e[i],t,n,r));return s}}function Co(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||St;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,c,h)===!1)return}l=l.parent}if(i){Tn(),ui(i,null,10,[e,c,h]),wn();return}}m_(e,n,s,r,a)}function m_(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const ye=[];let tn=-1;const jr=[];let kn=null,Dr=0;const dd=Promise.resolve();let Zi=null;function pd(e){const t=Zi||dd;return e?t.then(this?e.bind(this):e):t}function __(e){let t=tn+1,n=ye.length;for(;t<n;){const r=t+n>>>1,s=ye[r],i=ti(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ml(e){if(!(e.flags&1)){const t=ti(e),n=ye[ye.length-1];!n||!(e.flags&2)&&t>=ti(n)?ye.push(e):ye.splice(__(t),0,e),e.flags|=1,gd()}}function gd(){Zi||(Zi=dd.then(_d))}function y_(e){lt(e)?jr.push(...e):kn&&e.id===-1?kn.splice(Dr+1,0,e):e.flags&1||(jr.push(e),e.flags|=1),gd()}function Su(e,t,n=tn+1){for(;n<ye.length;n++){const r=ye[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ye.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function md(e){if(jr.length){const t=[...new Set(jr)].sort((n,r)=>ti(n)-ti(r));if(jr.length=0,kn){kn.push(...t);return}for(kn=t,Dr=0;Dr<kn.length;Dr++){const n=kn[Dr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}kn=null,Dr=0}}const ti=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _d(e){try{for(tn=0;tn<ye.length;tn++){const t=ye[tn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ui(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;tn<ye.length;tn++){const t=ye[tn];t&&(t.flags&=-2)}tn=-1,ye.length=0,md(),Zi=null,(ye.length||jr.length)&&_d()}}let Ue=null,yd=null;function to(e){const t=Ue;return Ue=e,yd=e&&e.type.__scopeId||null,t}function Bi(e,t=Ue,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ro(-1);const i=to(t);let a;try{a=e(...s)}finally{to(i),r._d&&ro(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function ha(e,t){if(Ue===null)return e;const n=Do(Ue),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,c=St]=t[s];i&&(ut(i)&&(i={mounted:i,updated:i}),i.deep&&En(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function ar(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(Tn(),fn(c,n,8,[e.el,l,e,t]),wn())}}const E_=Symbol("_vte"),v_=e=>e.__isTeleport,T_=Symbol("_leaveCb");function Ll(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ll(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ed(e,t){return ut(e)?de({name:e.name},t,{setup:e}):e}function vd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const eo=new WeakMap;function Bs(e,t,n,r,s=!1){if(lt(e)){e.forEach((P,N)=>Bs(P,t&&(lt(t)?t[N]:t),n,r,s));return}if(js(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bs(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Do(r.component):r.el,a=s?null:i,{i:l,r:c}=e,h=t&&t.r,f=l.refs===St?l.refs={}:l.refs,p=l.setupState,m=At(p),y=p===St?Bf:P=>It(m,P);if(h!=null&&h!==c){if(Cu(t),zt(h))f[h]=null,y(h)&&(p[h]=null);else if(fe(h)){h.value=null;const P=t;P.k&&(f[P.k]=null)}}if(ut(c))ui(c,l,12,[a,f]);else{const P=zt(c),N=fe(c);if(P||N){const D=()=>{if(e.f){const z=P?y(c)?p[c]:f[c]:c.value;if(s)lt(z)&&Rl(z,i);else if(lt(z))z.includes(i)||z.push(i);else if(P)f[c]=[i],y(c)&&(p[c]=f[c]);else{const j=[i];c.value=j,e.k&&(f[e.k]=j)}}else P?(f[c]=a,y(c)&&(p[c]=a)):N&&(c.value=a,e.k&&(f[e.k]=a))};if(a){const z=()=>{D(),eo.delete(e)};z.id=-1,eo.set(e,z),Ve(z,n)}else Cu(e),D()}}}function Cu(e){const t=eo.get(e);t&&(t.flags|=8,eo.delete(e))}Io().requestIdleCallback;Io().cancelIdleCallback;const js=e=>!!e.type.__asyncLoader,Td=e=>e.type.__isKeepAlive;function w_(e,t){wd(e,"a",t)}function A_(e,t){wd(e,"da",t)}function wd(e,t,n=Ee){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Po(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Td(s.parent.vnode)&&I_(r,t,n,s),s=s.parent}}function I_(e,t,n,r){const s=Po(t,e,r,!0);Id(()=>{Rl(r[t],s)},n)}function Po(e,t,n=Ee,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Tn();const l=hi(n),c=fn(t,n,e,a);return l(),wn(),c});return r?s.unshift(i):s.push(i),i}}const Rn=e=>(t,n=Ee)=>{(!ni||e==="sp")&&Po(e,(...r)=>t(...r),n)},b_=Rn("bm"),Ad=Rn("m"),R_=Rn("bu"),S_=Rn("u"),C_=Rn("bum"),Id=Rn("um"),P_=Rn("sp"),V_=Rn("rtg"),N_=Rn("rtc");function D_(e,t=Ee){Po("ec",e,t)}const O_=Symbol.for("v-ndc");function x_(e,t,n,r){let s;const i=n,a=lt(e);if(a||zt(e)){const l=a&&pr(e);let c=!1,h=!1;l&&(c=!Be(e),h=An(e),e=Ro(e)),s=new Array(e.length);for(let f=0,p=e.length;f<p;f++)s[f]=t(c?h?Wr(Ge(e[f])):Ge(e[f]):e[f],f,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(Vt(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=t(e[f],f,c,i)}}else s=[];return s}const ja=e=>e?Hd(e)?Do(e):ja(e.parent):null,qs=de(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ja(e.parent),$root:e=>ja(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Rd(e),$forceUpdate:e=>e.f||(e.f=()=>{Ml(e.update)}),$nextTick:e=>e.n||(e.n=pd.bind(e.proxy)),$watch:e=>z_.bind(e)}),fa=(e,t)=>e!==St&&!e.__isScriptSetup&&It(e,t),k_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=e;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(fa(r,t))return a[t]=1,r[t];if(s!==St&&It(s,t))return a[t]=2,s[t];if(It(i,t))return a[t]=3,i[t];if(n!==St&&It(n,t))return a[t]=4,n[t];qa&&(a[t]=0)}}const h=qs[t];let f,p;if(h)return t==="$attrs"&&le(e.attrs,"get",""),h(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==St&&It(n,t))return a[t]=4,n[t];if(p=c.config.globalProperties,It(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return fa(s,t)?(s[t]=n,!0):r!==St&&It(r,t)?(r[t]=n,!0):It(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:i,type:a}},l){let c;return!!(n[l]||e!==St&&l[0]!=="$"&&It(e,l)||fa(t,l)||It(i,l)||It(r,l)||It(qs,l)||It(s.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:It(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Pu(e){return lt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let qa=!0;function M_(e){const t=Rd(e),n=e.proxy,r=e.ctx;qa=!1,t.beforeCreate&&Vu(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:h,created:f,beforeMount:p,mounted:m,beforeUpdate:y,updated:P,activated:N,deactivated:D,beforeDestroy:z,beforeUnmount:j,destroyed:q,unmounted:$,render:it,renderTracked:ct,renderTriggered:A,errorCaptured:E,serverPrefetch:T,expose:b,inheritAttrs:I,components:S,directives:v,filters:Bt}=t;if(h&&L_(h,r,null),a)for(const Tt in a){const pt=a[Tt];ut(pt)&&(r[Tt]=pt.bind(n))}if(s){const Tt=s.call(n,n);Vt(Tt)&&(e.data=So(Tt))}if(qa=!0,i)for(const Tt in i){const pt=i[Tt],Te=ut(pt)?pt.bind(n,n):ut(pt.get)?pt.get.bind(n,n):an,Xe=!ut(pt)&&ut(pt.set)?pt.set.bind(n):an,Re=Le({get:Te,set:Xe});Object.defineProperty(r,Tt,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Zt=>Re.value=Zt})}if(l)for(const Tt in l)bd(l[Tt],r,n,Tt);if(c){const Tt=ut(c)?c.call(n):c;Reflect.ownKeys(Tt).forEach(pt=>{ji(pt,Tt[pt])})}f&&Vu(f,e,"c");function jt(Tt,pt){lt(pt)?pt.forEach(Te=>Tt(Te.bind(n))):pt&&Tt(pt.bind(n))}if(jt(b_,p),jt(Ad,m),jt(R_,y),jt(S_,P),jt(w_,N),jt(A_,D),jt(D_,E),jt(N_,ct),jt(V_,A),jt(C_,j),jt(Id,$),jt(P_,T),lt(b))if(b.length){const Tt=e.exposed||(e.exposed={});b.forEach(pt=>{Object.defineProperty(Tt,pt,{get:()=>n[pt],set:Te=>n[pt]=Te,enumerable:!0})})}else e.exposed||(e.exposed={});it&&e.render===an&&(e.render=it),I!=null&&(e.inheritAttrs=I),S&&(e.components=S),v&&(e.directives=v),T&&vd(e)}function L_(e,t,n=an){lt(e)&&(e=$a(e));for(const r in e){const s=e[r];let i;Vt(s)?"default"in s?i=vn(s.from||r,s.default,!0):i=vn(s.from||r):i=vn(s),fe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function Vu(e,t,n){fn(lt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function bd(e,t,n,r){let s=r.includes(".")?Pd(n,r):()=>n[r];if(zt(e)){const i=t[e];ut(i)&&qi(s,i)}else if(ut(e))qi(s,e.bind(n));else if(Vt(e))if(lt(e))e.forEach(i=>bd(i,t,n,r));else{const i=ut(e.handler)?e.handler.bind(n):t[e.handler];ut(i)&&qi(s,i,e)}}function Rd(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(h=>no(c,h,a,!0)),no(c,t,a)),Vt(t)&&i.set(t,c),c}function no(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&no(e,i,n,!0),s&&s.forEach(a=>no(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=F_[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const F_={data:Nu,props:Du,emits:Du,methods:Ds,computed:Ds,beforeCreate:me,created:me,beforeMount:me,mounted:me,beforeUpdate:me,updated:me,beforeDestroy:me,beforeUnmount:me,destroyed:me,unmounted:me,activated:me,deactivated:me,errorCaptured:me,serverPrefetch:me,components:Ds,directives:Ds,watch:B_,provide:Nu,inject:U_};function Nu(e,t){return t?e?function(){return de(ut(e)?e.call(this,this):e,ut(t)?t.call(this,this):t)}:t:e}function U_(e,t){return Ds($a(e),$a(t))}function $a(e){if(lt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function me(e,t){return e?[...new Set([].concat(e,t))]:t}function Ds(e,t){return e?de(Object.create(null),e,t):t}function Du(e,t){return e?lt(e)&&lt(t)?[...new Set([...e,...t])]:de(Object.create(null),Pu(e),Pu(t??{})):t}function B_(e,t){if(!e)return t;if(!t)return e;const n=de(Object.create(null),e);for(const r in t)n[r]=me(e[r],t[r]);return n}function Sd(){return{app:null,config:{isNativeTag:Bf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j_=0;function q_(e,t){return function(r,s=null){ut(r)||(r=de({},r)),s!=null&&!Vt(s)&&(s=null);const i=Sd(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:j_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Iy,get config(){return i.config},set config(f){},use(f,...p){return a.has(f)||(f&&ut(f.install)?(a.add(f),f.install(h,...p)):ut(f)&&(a.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,m){if(!c){const y=h._ceVNode||Wt(r,s);return y.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(y,f,m),c=!0,h._container=f,f.__vue_app__=h,Do(y.component)}},onUnmount(f){l.push(f)},unmount(){c&&(fn(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=qr;qr=h;try{return f()}finally{qr=p}}};return h}}let qr=null;function ji(e,t){if(Ee){let n=Ee.provides;const r=Ee.parent&&Ee.parent.provides;r===n&&(n=Ee.provides=Object.create(r)),n[e]=t}}function vn(e,t,n=!1){const r=yy();if(r||qr){let s=qr?qr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ut(t)?t.call(r&&r.proxy):t}}const $_=Symbol.for("v-scx"),H_=()=>vn($_);function qi(e,t,n){return Cd(e,t,n)}function Cd(e,t,n=St){const{immediate:r,deep:s,flush:i,once:a}=n,l=de({},n),c=t&&r||!t&&i!=="post";let h;if(ni){if(i==="sync"){const y=H_();h=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=an,y.resume=an,y.pause=an,y}}const f=Ee;l.call=(y,P,N)=>fn(y,f,P,N);let p=!1;i==="post"?l.scheduler=y=>{Ve(y,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(y,P)=>{P?y():Ml(y)}),l.augmentJob=y=>{t&&(y.flags|=4),p&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const m=g_(e,t,l);return ni&&(h?h.push(m):c&&m()),m}function z_(e,t,n){const r=this.proxy,s=zt(e)?e.includes(".")?Pd(r,e):()=>r[e]:e.bind(r,r);let i;ut(t)?i=t:(i=t.handler,n=t);const a=hi(this),l=Cd(s,i.bind(r),n);return a(),l}function Pd(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const G_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Gn(t)}Modifiers`]||e[`${wr(t)}Modifiers`];function K_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||St;let s=n;const i=t.startsWith("update:"),a=i&&G_(r,t.slice(7));a&&(a.trim&&(s=n.map(f=>zt(f)?f.trim():f)),a.number&&(s=n.map(Cl)));let l,c=r[l=oa(t)]||r[l=oa(Gn(t))];!c&&i&&(c=r[l=oa(wr(t))]),c&&fn(c,e,6,s);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,fn(h,e,6,s)}}const W_=new WeakMap;function Vd(e,t,n=!1){const r=n?W_:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!ut(e)){const c=h=>{const f=Vd(h,t,!0);f&&(l=!0,de(a,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Vt(e)&&r.set(e,null),null):(lt(i)?i.forEach(c=>a[c]=null):de(a,i),Vt(e)&&r.set(e,a),a)}function Vo(e,t){return!e||!To(t)?!1:(t=t.slice(2).replace(/Once$/,""),It(e,t[0].toLowerCase()+t.slice(1))||It(e,wr(t))||It(e,t))}function Ou(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:f,props:p,data:m,setupState:y,ctx:P,inheritAttrs:N}=e,D=to(e);let z,j;try{if(n.shapeFlag&4){const $=s||r,it=$;z=nn(h.call(it,$,f,p,y,m,P)),j=l}else{const $=t;z=nn($.length>1?$(p,{attrs:l,slots:a,emit:c}):$(p,null)),j=t.props?l:Q_(l)}}catch($){$s.length=0,Co($,e,1),z=Wt(Kn)}let q=z;if(j&&N!==!1){const $=Object.keys(j),{shapeFlag:it}=q;$.length&&it&7&&(i&&$.some(bl)&&(j=X_(j,i)),q=Qr(q,j,!1,!0))}return n.dirs&&(q=Qr(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&Ll(q,n.transition),z=q,to(D),z}const Q_=e=>{let t;for(const n in e)(n==="class"||n==="style"||To(n))&&((t||(t={}))[n]=e[n]);return t},X_=(e,t)=>{const n={};for(const r in e)(!bl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Y_(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?xu(r,a,h):!!a;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(a[m]!==r[m]&&!Vo(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?xu(r,a,h):!0:!!a;return!1}function xu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Vo(n,i))return!0}return!1}function J_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Nd={},Dd=()=>Object.create(Nd),Od=e=>Object.getPrototypeOf(e)===Nd;function Z_(e,t,n,r=!1){const s={},i=Dd();e.propsDefaults=Object.create(null),xd(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:ud(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function ty(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=At(s),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(Vo(e.emitsOptions,m))continue;const y=t[m];if(c)if(It(i,m))y!==i[m]&&(i[m]=y,h=!0);else{const P=Gn(m);s[P]=Ha(c,l,P,y,e,!1)}else y!==i[m]&&(i[m]=y,h=!0)}}}else{xd(e,t,s,i)&&(h=!0);let f;for(const p in l)(!t||!It(t,p)&&((f=wr(p))===p||!It(t,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Ha(c,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!It(t,p))&&(delete i[p],h=!0)}h&&yn(e.attrs,"set","")}function xd(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Ls(c))continue;const h=t[c];let f;s&&It(s,f=Gn(c))?!i||!i.includes(f)?n[f]=h:(l||(l={}))[f]=h:Vo(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(i){const c=At(n),h=l||St;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Ha(s,c,p,h[p],e,!It(h,p))}}return a}function Ha(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=It(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ut(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const f=hi(s);r=h[n]=c.call(null,t),f()}}else r=c;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===wr(n))&&(r=!0))}return r}const ey=new WeakMap;function kd(e,t,n=!1){const r=n?ey:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let c=!1;if(!ut(e)){const f=p=>{c=!0;const[m,y]=kd(p,t,!0);de(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return Vt(e)&&r.set(e,Ur),Ur;if(lt(i))for(let f=0;f<i.length;f++){const p=Gn(i[f]);ku(p)&&(a[p]=St)}else if(i)for(const f in i){const p=Gn(f);if(ku(p)){const m=i[f],y=a[p]=lt(m)||ut(m)?{type:m}:de({},m),P=y.type;let N=!1,D=!0;if(lt(P))for(let z=0;z<P.length;++z){const j=P[z],q=ut(j)&&j.name;if(q==="Boolean"){N=!0;break}else q==="String"&&(D=!1)}else N=ut(P)&&P.name==="Boolean";y[0]=N,y[1]=D,(N||It(y,"default"))&&l.push(p)}}const h=[a,l];return Vt(e)&&r.set(e,h),h}function ku(e){return e[0]!=="$"&&!Ls(e)}const Fl=e=>e==="_"||e==="_ctx"||e==="$stable",Ul=e=>lt(e)?e.map(nn):[nn(e)],ny=(e,t,n)=>{if(t._n)return t;const r=Bi((...s)=>Ul(t(...s)),n);return r._c=!1,r},Md=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Fl(s))continue;const i=e[s];if(ut(i))t[s]=ny(s,i,r);else if(i!=null){const a=Ul(i);t[s]=()=>a}}},Ld=(e,t)=>{const n=Ul(t);e.slots.default=()=>n},Fd=(e,t,n)=>{for(const r in t)(n||!Fl(r))&&(e[r]=t[r])},ry=(e,t,n)=>{const r=e.slots=Dd();if(e.vnode.shapeFlag&32){const s=t._;s?(Fd(r,t,n),n&&Gf(r,"_",s,!0)):Md(t,r)}else t&&Ld(e,t)},sy=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=St;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Fd(s,t,n):(i=!t.$stable,Md(t,s)),a=t}else t&&(Ld(e,t),a={default:1});if(i)for(const l in s)!Fl(l)&&a[l]==null&&delete s[l]},Ve=cy;function iy(e){return oy(e)}function oy(e,t){const n=Io();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:f,parentNode:p,nextSibling:m,setScopeId:y=an,insertStaticContent:P}=e,N=(_,w,R,k=null,L=null,O=null,K=void 0,B=null,U=!!w.dynamicChildren)=>{if(_===w)return;_&&!Cs(_,w)&&(k=x(_),Zt(_,L,O,!0),_=null),w.patchFlag===-2&&(U=!1,w.dynamicChildren=null);const{type:F,ref:nt,shapeFlag:Q}=w;switch(F){case No:D(_,w,R,k);break;case Kn:z(_,w,R,k);break;case pa:_==null&&j(w,R,k,K);break;case He:S(_,w,R,k,L,O,K,B,U);break;default:Q&1?it(_,w,R,k,L,O,K,B,U):Q&6?v(_,w,R,k,L,O,K,B,U):(Q&64||Q&128)&&F.process(_,w,R,k,L,O,K,B,U,tt)}nt!=null&&L?Bs(nt,_&&_.ref,O,w||_,!w):nt==null&&_&&_.ref!=null&&Bs(_.ref,null,O,_,!0)},D=(_,w,R,k)=>{if(_==null)r(w.el=l(w.children),R,k);else{const L=w.el=_.el;w.children!==_.children&&h(L,w.children)}},z=(_,w,R,k)=>{_==null?r(w.el=c(w.children||""),R,k):w.el=_.el},j=(_,w,R,k)=>{[_.el,_.anchor]=P(_.children,w,R,k,_.el,_.anchor)},q=({el:_,anchor:w},R,k)=>{let L;for(;_&&_!==w;)L=m(_),r(_,R,k),_=L;r(w,R,k)},$=({el:_,anchor:w})=>{let R;for(;_&&_!==w;)R=m(_),s(_),_=R;s(w)},it=(_,w,R,k,L,O,K,B,U)=>{if(w.type==="svg"?K="svg":w.type==="math"&&(K="mathml"),_==null)ct(w,R,k,L,O,K,B,U);else{const F=_.el&&_.el._isVueCE?_.el:null;try{F&&F._beginPatch(),T(_,w,L,O,K,B,U)}finally{F&&F._endPatch()}}},ct=(_,w,R,k,L,O,K,B)=>{let U,F;const{props:nt,shapeFlag:Q,transition:et,dirs:rt}=_;if(U=_.el=a(_.type,O,nt&&nt.is,nt),Q&8?f(U,_.children):Q&16&&E(_.children,U,null,k,L,da(_,O),K,B),rt&&ar(_,null,k,"created"),A(U,_,_.scopeId,K,k),nt){for(const bt in nt)bt!=="value"&&!Ls(bt)&&i(U,bt,null,nt[bt],O,k);"value"in nt&&i(U,"value",null,nt.value,O),(F=nt.onVnodeBeforeMount)&&Ze(F,k,_)}rt&&ar(_,null,k,"beforeMount");const ft=ay(L,et);ft&&et.beforeEnter(U),r(U,w,R),((F=nt&&nt.onVnodeMounted)||ft||rt)&&Ve(()=>{F&&Ze(F,k,_),ft&&et.enter(U),rt&&ar(_,null,k,"mounted")},L)},A=(_,w,R,k,L)=>{if(R&&y(_,R),k)for(let O=0;O<k.length;O++)y(_,k[O]);if(L){let O=L.subTree;if(w===O||jd(O.type)&&(O.ssContent===w||O.ssFallback===w)){const K=L.vnode;A(_,K,K.scopeId,K.slotScopeIds,L.parent)}}},E=(_,w,R,k,L,O,K,B,U=0)=>{for(let F=U;F<_.length;F++){const nt=_[F]=B?Mn(_[F]):nn(_[F]);N(null,nt,w,R,k,L,O,K,B)}},T=(_,w,R,k,L,O,K)=>{const B=w.el=_.el;let{patchFlag:U,dynamicChildren:F,dirs:nt}=w;U|=_.patchFlag&16;const Q=_.props||St,et=w.props||St;let rt;if(R&&lr(R,!1),(rt=et.onVnodeBeforeUpdate)&&Ze(rt,R,w,_),nt&&ar(w,_,R,"beforeUpdate"),R&&lr(R,!0),(Q.innerHTML&&et.innerHTML==null||Q.textContent&&et.textContent==null)&&f(B,""),F?b(_.dynamicChildren,F,B,R,k,da(w,L),O):K||pt(_,w,B,null,R,k,da(w,L),O,!1),U>0){if(U&16)I(B,Q,et,R,L);else if(U&2&&Q.class!==et.class&&i(B,"class",null,et.class,L),U&4&&i(B,"style",Q.style,et.style,L),U&8){const ft=w.dynamicProps;for(let bt=0;bt<ft.length;bt++){const Et=ft[bt],se=Q[Et],ie=et[Et];(ie!==se||Et==="value")&&i(B,Et,se,ie,L,R)}}U&1&&_.children!==w.children&&f(B,w.children)}else!K&&F==null&&I(B,Q,et,R,L);((rt=et.onVnodeUpdated)||nt)&&Ve(()=>{rt&&Ze(rt,R,w,_),nt&&ar(w,_,R,"updated")},k)},b=(_,w,R,k,L,O,K)=>{for(let B=0;B<w.length;B++){const U=_[B],F=w[B],nt=U.el&&(U.type===He||!Cs(U,F)||U.shapeFlag&198)?p(U.el):R;N(U,F,nt,null,k,L,O,K,!0)}},I=(_,w,R,k,L)=>{if(w!==R){if(w!==St)for(const O in w)!Ls(O)&&!(O in R)&&i(_,O,w[O],null,L,k);for(const O in R){if(Ls(O))continue;const K=R[O],B=w[O];K!==B&&O!=="value"&&i(_,O,B,K,L,k)}"value"in R&&i(_,"value",w.value,R.value,L)}},S=(_,w,R,k,L,O,K,B,U)=>{const F=w.el=_?_.el:l(""),nt=w.anchor=_?_.anchor:l("");let{patchFlag:Q,dynamicChildren:et,slotScopeIds:rt}=w;rt&&(B=B?B.concat(rt):rt),_==null?(r(F,R,k),r(nt,R,k),E(w.children||[],R,nt,L,O,K,B,U)):Q>0&&Q&64&&et&&_.dynamicChildren?(b(_.dynamicChildren,et,R,L,O,K,B),(w.key!=null||L&&w===L.subTree)&&Ud(_,w,!0)):pt(_,w,R,nt,L,O,K,B,U)},v=(_,w,R,k,L,O,K,B,U)=>{w.slotScopeIds=B,_==null?w.shapeFlag&512?L.ctx.activate(w,R,k,K,U):Bt(w,R,k,L,O,K,U):ve(_,w,U)},Bt=(_,w,R,k,L,O,K)=>{const B=_.component=_y(_,k,L);if(Td(_)&&(B.ctx.renderer=tt),Ey(B,!1,K),B.asyncDep){if(L&&L.registerDep(B,jt,K),!_.el){const U=B.subTree=Wt(Kn);z(null,U,w,R),_.placeholder=U.el}}else jt(B,_,w,R,L,O,K)},ve=(_,w,R)=>{const k=w.component=_.component;if(Y_(_,w,R))if(k.asyncDep&&!k.asyncResolved){Tt(k,w,R);return}else k.next=w,k.update();else w.el=_.el,k.vnode=w},jt=(_,w,R,k,L,O,K)=>{const B=()=>{if(_.isMounted){let{next:Q,bu:et,u:rt,parent:ft,vnode:bt}=_;{const Ce=Bd(_);if(Ce){Q&&(Q.el=bt.el,Tt(_,Q,K)),Ce.asyncDep.then(()=>{_.isUnmounted||B()});return}}let Et=Q,se;lr(_,!1),Q?(Q.el=bt.el,Tt(_,Q,K)):Q=bt,et&&Ui(et),(se=Q.props&&Q.props.onVnodeBeforeUpdate)&&Ze(se,ft,Q,bt),lr(_,!0);const ie=Ou(_),Se=_.subTree;_.subTree=ie,N(Se,ie,p(Se.el),x(Se),_,L,O),Q.el=ie.el,Et===null&&J_(_,ie.el),rt&&Ve(rt,L),(se=Q.props&&Q.props.onVnodeUpdated)&&Ve(()=>Ze(se,ft,Q,bt),L)}else{let Q;const{el:et,props:rt}=w,{bm:ft,m:bt,parent:Et,root:se,type:ie}=_,Se=js(w);lr(_,!1),ft&&Ui(ft),!Se&&(Q=rt&&rt.onVnodeBeforeMount)&&Ze(Q,Et,w),lr(_,!0);{se.ce&&se.ce._def.shadowRoot!==!1&&se.ce._injectChildStyle(ie);const Ce=_.subTree=Ou(_);N(null,Ce,R,k,_,L,O),w.el=Ce.el}if(bt&&Ve(bt,L),!Se&&(Q=rt&&rt.onVnodeMounted)){const Ce=w;Ve(()=>Ze(Q,Et,Ce),L)}(w.shapeFlag&256||Et&&js(Et.vnode)&&Et.vnode.shapeFlag&256)&&_.a&&Ve(_.a,L),_.isMounted=!0,w=R=k=null}};_.scope.on();const U=_.effect=new Xf(B);_.scope.off();const F=_.update=U.run.bind(U),nt=_.job=U.runIfDirty.bind(U);nt.i=_,nt.id=_.uid,U.scheduler=()=>Ml(nt),lr(_,!0),F()},Tt=(_,w,R)=>{w.component=_;const k=_.vnode.props;_.vnode=w,_.next=null,ty(_,w.props,k,R),sy(_,w.children,R),Tn(),Su(_),wn()},pt=(_,w,R,k,L,O,K,B,U=!1)=>{const F=_&&_.children,nt=_?_.shapeFlag:0,Q=w.children,{patchFlag:et,shapeFlag:rt}=w;if(et>0){if(et&128){Xe(F,Q,R,k,L,O,K,B,U);return}else if(et&256){Te(F,Q,R,k,L,O,K,B,U);return}}rt&8?(nt&16&&re(F,L,O),Q!==F&&f(R,Q)):nt&16?rt&16?Xe(F,Q,R,k,L,O,K,B,U):re(F,L,O,!0):(nt&8&&f(R,""),rt&16&&E(Q,R,k,L,O,K,B,U))},Te=(_,w,R,k,L,O,K,B,U)=>{_=_||Ur,w=w||Ur;const F=_.length,nt=w.length,Q=Math.min(F,nt);let et;for(et=0;et<Q;et++){const rt=w[et]=U?Mn(w[et]):nn(w[et]);N(_[et],rt,R,null,L,O,K,B,U)}F>nt?re(_,L,O,!0,!1,Q):E(w,R,k,L,O,K,B,U,Q)},Xe=(_,w,R,k,L,O,K,B,U)=>{let F=0;const nt=w.length;let Q=_.length-1,et=nt-1;for(;F<=Q&&F<=et;){const rt=_[F],ft=w[F]=U?Mn(w[F]):nn(w[F]);if(Cs(rt,ft))N(rt,ft,R,null,L,O,K,B,U);else break;F++}for(;F<=Q&&F<=et;){const rt=_[Q],ft=w[et]=U?Mn(w[et]):nn(w[et]);if(Cs(rt,ft))N(rt,ft,R,null,L,O,K,B,U);else break;Q--,et--}if(F>Q){if(F<=et){const rt=et+1,ft=rt<nt?w[rt].el:k;for(;F<=et;)N(null,w[F]=U?Mn(w[F]):nn(w[F]),R,ft,L,O,K,B,U),F++}}else if(F>et)for(;F<=Q;)Zt(_[F],L,O,!0),F++;else{const rt=F,ft=F,bt=new Map;for(F=ft;F<=et;F++){const te=w[F]=U?Mn(w[F]):nn(w[F]);te.key!=null&&bt.set(te.key,F)}let Et,se=0;const ie=et-ft+1;let Se=!1,Ce=0;const $e=new Array(ie);for(F=0;F<ie;F++)$e[F]=0;for(F=rt;F<=Q;F++){const te=_[F];if(se>=ie){Zt(te,L,O,!0);continue}let Xt;if(te.key!=null)Xt=bt.get(te.key);else for(Et=ft;Et<=et;Et++)if($e[Et-ft]===0&&Cs(te,w[Et])){Xt=Et;break}Xt===void 0?Zt(te,L,O,!0):($e[Xt-ft]=F+1,Xt>=Ce?Ce=Xt:Se=!0,N(te,w[Xt],R,null,L,O,K,B,U),se++)}const Rr=Se?ly($e):Ur;for(Et=Rr.length-1,F=ie-1;F>=0;F--){const te=ft+F,Xt=w[te],fs=w[te+1],nr=te+1<nt?fs.el||fs.placeholder:k;$e[F]===0?N(null,Xt,R,nr,L,O,K,B,U):Se&&(Et<0||F!==Rr[Et]?Re(Xt,R,nr,2):Et--)}}},Re=(_,w,R,k,L=null)=>{const{el:O,type:K,transition:B,children:U,shapeFlag:F}=_;if(F&6){Re(_.component.subTree,w,R,k);return}if(F&128){_.suspense.move(w,R,k);return}if(F&64){K.move(_,w,R,tt);return}if(K===He){r(O,w,R);for(let Q=0;Q<U.length;Q++)Re(U[Q],w,R,k);r(_.anchor,w,R);return}if(K===pa){q(_,w,R);return}if(k!==2&&F&1&&B)if(k===0)B.beforeEnter(O),r(O,w,R),Ve(()=>B.enter(O),L);else{const{leave:Q,delayLeave:et,afterLeave:rt}=B,ft=()=>{_.ctx.isUnmounted?s(O):r(O,w,R)},bt=()=>{O._isLeaving&&O[T_](!0),Q(O,()=>{ft(),rt&&rt()})};et?et(O,ft,bt):bt()}else r(O,w,R)},Zt=(_,w,R,k=!1,L=!1)=>{const{type:O,props:K,ref:B,children:U,dynamicChildren:F,shapeFlag:nt,patchFlag:Q,dirs:et,cacheIndex:rt}=_;if(Q===-2&&(L=!1),B!=null&&(Tn(),Bs(B,null,R,_,!0),wn()),rt!=null&&(w.renderCache[rt]=void 0),nt&256){w.ctx.deactivate(_);return}const ft=nt&1&&et,bt=!js(_);let Et;if(bt&&(Et=K&&K.onVnodeBeforeUnmount)&&Ze(Et,w,_),nt&6)qe(_.component,R,k);else{if(nt&128){_.suspense.unmount(R,k);return}ft&&ar(_,null,w,"beforeUnmount"),nt&64?_.type.remove(_,w,R,tt,k):F&&!F.hasOnce&&(O!==He||Q>0&&Q&64)?re(F,w,R,!1,!0):(O===He&&Q&384||!L&&nt&16)&&re(U,w,R),k&&pn(_)}(bt&&(Et=K&&K.onVnodeUnmounted)||ft)&&Ve(()=>{Et&&Ze(Et,w,_),ft&&ar(_,null,w,"unmounted")},R)},pn=_=>{const{type:w,el:R,anchor:k,transition:L}=_;if(w===He){je(R,k);return}if(w===pa){$(_);return}const O=()=>{s(R),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(_.shapeFlag&1&&L&&!L.persisted){const{leave:K,delayLeave:B}=L,U=()=>K(R,O);B?B(_.el,O,U):U()}else O()},je=(_,w)=>{let R;for(;_!==w;)R=m(_),s(_),_=R;s(w)},qe=(_,w,R)=>{const{bum:k,scope:L,job:O,subTree:K,um:B,m:U,a:F}=_;Mu(U),Mu(F),k&&Ui(k),L.stop(),O&&(O.flags|=8,Zt(K,_,w,R)),B&&Ve(B,w),Ve(()=>{_.isUnmounted=!0},w)},re=(_,w,R,k=!1,L=!1,O=0)=>{for(let K=O;K<_.length;K++)Zt(_[K],w,R,k,L)},x=_=>{if(_.shapeFlag&6)return x(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const w=m(_.anchor||_.el),R=w&&w[E_];return R?m(R):w};let X=!1;const W=(_,w,R)=>{_==null?w._vnode&&Zt(w._vnode,null,null,!0):N(w._vnode||null,_,w,null,null,null,R),w._vnode=_,X||(X=!0,Su(),md(),X=!1)},tt={p:N,um:Zt,m:Re,r:pn,mt:Bt,mc:E,pc:pt,pbc:b,n:x,o:e};return{render:W,hydrate:void 0,createApp:q_(W)}}function da({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function lr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ay(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ud(e,t,n=!1){const r=e.children,s=t.children;if(lt(r)&&lt(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Mn(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Ud(a,l)),l.type===No&&l.patchFlag!==-1&&(l.el=a.el),l.type===Kn&&!l.el&&(l.el=a.el)}}function ly(e){const t=e.slice(),n=[0];let r,s,i,a,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<h?i=l+1:a=l;h<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Bd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bd(t)}function Mu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const jd=e=>e.__isSuspense;function cy(e,t){t&&t.pendingBranch?lt(e)?t.effects.push(...e):t.effects.push(e):y_(e)}const He=Symbol.for("v-fgt"),No=Symbol.for("v-txt"),Kn=Symbol.for("v-cmt"),pa=Symbol.for("v-stc"),$s=[];let xe=null;function De(e=!1){$s.push(xe=e?null:[])}function uy(){$s.pop(),xe=$s[$s.length-1]||null}let ei=1;function ro(e,t=!1){ei+=e,e<0&&xe&&t&&(xe.hasOnce=!0)}function qd(e){return e.dynamicChildren=ei>0?xe||Ur:null,uy(),ei>0&&xe&&xe.push(e),e}function Me(e,t,n,r,s,i){return qd(Z(e,t,n,r,s,i,!0))}function hy(e,t,n,r,s){return qd(Wt(e,t,n,r,s,!0))}function so(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const $d=({key:e})=>e??null,$i=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||fe(e)||ut(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,s=null,i=e===He?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$d(t),ref:t&&$i(t),scopeId:yd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ue};return l?(Bl(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=zt(n)?8:16),ei>0&&!a&&xe&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&xe.push(c),c}const Wt=fy;function fy(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===O_)&&(e=Kn),so(e)){const l=Qr(e,t,!0);return n&&Bl(l,n),ei>0&&!i&&xe&&(l.shapeFlag&6?xe[xe.indexOf(e)]=l:xe.push(l)),l.patchFlag=-2,l}if(Ay(e)&&(e=e.__vccOpts),t){t=dy(t);let{class:l,style:c}=t;l&&!zt(l)&&(t.class=bo(l)),Vt(c)&&(kl(c)&&!lt(c)&&(c=de({},c)),t.style=Ys(c))}const a=zt(e)?1:jd(e)?128:v_(e)?64:Vt(e)?4:ut(e)?2:0;return Z(e,t,n,r,s,a,i,!0)}function dy(e){return e?kl(e)||Od(e)?de({},e):e:null}function Qr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=e,h=t?py(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&$d(h),ref:t&&t.ref?n&&i?lt(i)?i.concat($i(t)):[i,$i(t)]:$i(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==He?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qr(e.ssContent),ssFallback:e.ssFallback&&Qr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Ll(f,c.clone(f)),f}function gr(e=" ",t=0){return Wt(No,null,e,t)}function Lu(e="",t=!1){return t?(De(),hy(Kn,null,e)):Wt(Kn,null,e)}function nn(e){return e==null||typeof e=="boolean"?Wt(Kn):lt(e)?Wt(He,null,e.slice()):so(e)?Mn(e):Wt(No,null,String(e))}function Mn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qr(e)}function Bl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(lt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Bl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Od(t)?t._ctx=Ue:s===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ut(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),r&64?(n=16,t=[gr(t)]):n=8);e.children=t,e.shapeFlag|=n}function py(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=bo([t.class,r.class]));else if(s==="style")t.style=Ys([t.style,r.style]);else if(To(s)){const i=t[s],a=r[s];a&&i!==a&&!(lt(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function Ze(e,t,n,r=null){fn(e,t,7,[n,r])}const gy=Sd();let my=0;function _y(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||gy,i={uid:my++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kd(r,s),emitsOptions:Vd(r,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=K_.bind(null,i),e.ce&&e.ce(i),i}let Ee=null;const yy=()=>Ee||Ue;let io,za;{const e=Io(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};io=t("__VUE_INSTANCE_SETTERS__",n=>Ee=n),za=t("__VUE_SSR_SETTERS__",n=>ni=n)}const hi=e=>{const t=Ee;return io(e),e.scope.on(),()=>{e.scope.off(),io(t)}},Fu=()=>{Ee&&Ee.scope.off(),io(null)};function Hd(e){return e.vnode.shapeFlag&4}let ni=!1;function Ey(e,t=!1,n=!1){t&&za(t);const{props:r,children:s}=e.vnode,i=Hd(e);Z_(e,r,i,t),ry(e,s,n||t);const a=i?vy(e,t):void 0;return t&&za(!1),a}function vy(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,k_);const{setup:r}=n;if(r){Tn();const s=e.setupContext=r.length>1?wy(e):null,i=hi(e),a=ui(r,e,0,[e.props,s]),l=qf(a);if(wn(),i(),(l||e.sp)&&!js(e)&&vd(e),l){if(a.then(Fu,Fu),t)return a.then(c=>{Uu(e,c)}).catch(c=>{Co(c,e,0)});e.asyncDep=a}else Uu(e,a)}else zd(e)}function Uu(e,t,n){ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vt(t)&&(e.setupState=fd(t)),zd(e)}function zd(e,t,n){const r=e.type;e.render||(e.render=r.render||an);{const s=hi(e);Tn();try{M_(e)}finally{wn(),s()}}}const Ty={get(e,t){return le(e,"get",""),e[t]}};function wy(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ty),slots:e.slots,emit:e.emit,expose:t}}function Do(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(fd(l_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qs)return qs[n](e)},has(t,n){return n in t||n in qs}})):e.proxy}function Ay(e){return ut(e)&&"__vccOpts"in e}const Le=(e,t)=>d_(e,t,ni);function Gd(e,t,n){try{ro(-1);const r=arguments.length;return r===2?Vt(t)&&!lt(t)?so(t)?Wt(e,null,[t]):Wt(e,t):Wt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&so(n)&&(n=[n]),Wt(e,t,n))}finally{ro(1)}}const Iy="3.5.25";let Ga;const Bu=typeof window<"u"&&window.trustedTypes;if(Bu)try{Ga=Bu.createPolicy("vue",{createHTML:e=>e})}catch{}const Kd=Ga?e=>Ga.createHTML(e):e=>e,by="http://www.w3.org/2000/svg",Ry="http://www.w3.org/1998/Math/MathML",_n=typeof document<"u"?document:null,ju=_n&&_n.createElement("template"),Sy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?_n.createElementNS(by,e):t==="mathml"?_n.createElementNS(Ry,e):n?_n.createElement(e,{is:n}):_n.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>_n.createTextNode(e),createComment:e=>_n.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_n.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ju.innerHTML=Kd(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=ju.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Cy=Symbol("_vtc");function Py(e,t,n){const r=e[Cy];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const qu=Symbol("_vod"),Vy=Symbol("_vsh"),Ny=Symbol(""),Dy=/(?:^|;)\s*display\s*:/;function Oy(e,t,n){const r=e.style,s=zt(n);let i=!1;if(n&&!s){if(t)if(zt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Hi(r,l,"")}else for(const a in t)n[a]==null&&Hi(r,a,"");for(const a in n)a==="display"&&(i=!0),Hi(r,a,n[a])}else if(s){if(t!==n){const a=r[Ny];a&&(n+=";"+a),r.cssText=n,i=Dy.test(n)}}else t&&e.removeAttribute("style");qu in e&&(e[qu]=i?r.display:"",e[Vy]&&(r.display="none"))}const $u=/\s*!important$/;function Hi(e,t,n){if(lt(n))n.forEach(r=>Hi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=xy(e,t);$u.test(n)?e.setProperty(wr(r),n.replace($u,""),"important"):e[r]=n}}const Hu=["Webkit","Moz","ms"],ga={};function xy(e,t){const n=ga[t];if(n)return n;let r=Gn(t);if(r!=="filter"&&r in e)return ga[t]=r;r=zf(r);for(let s=0;s<Hu.length;s++){const i=Hu[s]+r;if(i in e)return ga[t]=i}return t}const zu="http://www.w3.org/1999/xlink";function Gu(e,t,n,r,s,i=jm(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zu,t.slice(6,t.length)):e.setAttributeNS(zu,t,n):n==null||i&&!Kf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":tr(n)?String(n):n)}function Ku(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Kd(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Kf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Or(e,t,n,r){e.addEventListener(t,n,r)}function ky(e,t,n,r){e.removeEventListener(t,n,r)}const Wu=Symbol("_vei");function My(e,t,n,r,s=null){const i=e[Wu]||(e[Wu]={}),a=i[t];if(r&&a)a.value=r;else{const[l,c]=Ly(t);if(r){const h=i[t]=By(r,s);Or(e,l,h,c)}else a&&(ky(e,l,a,c),i[t]=void 0)}}const Qu=/(?:Once|Passive|Capture)$/;function Ly(e){let t;if(Qu.test(e)){t={};let r;for(;r=e.match(Qu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wr(e.slice(2)),t]}let ma=0;const Fy=Promise.resolve(),Uy=()=>ma||(Fy.then(()=>ma=0),ma=Date.now());function By(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(jy(r,n.value),t,5,[r])};return n.value=e,n.attached=Uy(),n}function jy(e,t){if(lt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Xu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qy=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?Py(e,r,a):t==="style"?Oy(e,n,r):To(t)?bl(t)||My(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$y(e,t,r,a))?(Ku(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gu(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!zt(r))?Ku(e,Gn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Gu(e,t,r,a))};function $y(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xu(t)&&ut(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Xu(t)&&zt(n)?!1:t in e}const Yu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return lt(t)?n=>Ui(t,n):t};function Hy(e){e.target.composing=!0}function Ju(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _a=Symbol("_assign");function Zu(e,t,n){return t&&(e=e.trim()),n&&(e=Cl(e)),e}const ya={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[_a]=Yu(s);const i=r||s.props&&s.props.type==="number";Or(e,t?"change":"input",a=>{a.target.composing||e[_a](Zu(e.value,n,i))}),(n||i)&&Or(e,"change",()=>{e.value=Zu(e.value,n,i)}),t||(Or(e,"compositionstart",Hy),Or(e,"compositionend",Ju),Or(e,"change",Ju))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[_a]=Yu(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Cl(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},zy=de({patchProp:qy},Sy);let th;function Gy(){return th||(th=iy(zy))}const Ky=((...e)=>{const t=Gy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Qy(r);if(!s)return;const i=t._component;!ut(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Wy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t});function Wy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qy(e){return zt(e)?document.querySelector(e):e}const xr=typeof document<"u";function Wd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Wd(e.default)}const wt=Object.assign;function Ea(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ke(s)?s.map(e):e(s)}return n}const Hs=()=>{},Ke=Array.isArray;function eh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const Qd=/#/g,Yy=/&/g,Jy=/\//g,Zy=/=/g,tE=/\?/g,Xd=/\+/g,eE=/%5B/g,nE=/%5D/g,Yd=/%5E/g,rE=/%60/g,Jd=/%7B/g,sE=/%7C/g,Zd=/%7D/g,iE=/%20/g;function jl(e){return e==null?"":encodeURI(""+e).replace(sE,"|").replace(eE,"[").replace(nE,"]")}function oE(e){return jl(e).replace(Jd,"{").replace(Zd,"}").replace(Yd,"^")}function Ka(e){return jl(e).replace(Xd,"%2B").replace(iE,"+").replace(Qd,"%23").replace(Yy,"%26").replace(rE,"`").replace(Jd,"{").replace(Zd,"}").replace(Yd,"^")}function aE(e){return Ka(e).replace(Zy,"%3D")}function lE(e){return jl(e).replace(Qd,"%23").replace(tE,"%3F")}function cE(e){return lE(e).replace(Jy,"%2F")}function ri(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const uE=/\/$/,hE=e=>e.replace(uE,"");function va(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=t.slice(0,c),i=t.slice(c,l>0?l:t.length),s=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=gE(r??t,n),{fullPath:r+i+a,path:r,query:s,hash:ri(a)}}function fE(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dE(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Xr(t.matched[r],n.matched[s])&&tp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Xr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function tp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pE(e[n],t[n]))return!1;return!0}function pE(e,t){return Ke(e)?rh(e,t):Ke(t)?rh(t,e):e===t}function rh(e,t){return Ke(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function gE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const On={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Wa=(function(e){return e.pop="pop",e.push="push",e})({}),Ta=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function mE(e){if(!e)if(xr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hE(e)}const _E=/^[^#]+#/;function yE(e,t){return e.replace(_E,"#")+t}function EE(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Oo=()=>({left:window.scrollX,top:window.scrollY});function vE(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=EE(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sh(e,t){return(history.state?history.state.position-t:-1)+e}const Qa=new Map;function TE(e,t){Qa.set(e,t)}function wE(e){const t=Qa.get(e);return Qa.delete(e),t}function AE(e){return typeof e=="string"||e&&typeof e=="object"}function ep(e){return typeof e=="string"||typeof e=="symbol"}let Mt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const np=Symbol("");Mt.MATCHER_NOT_FOUND+"",Mt.NAVIGATION_GUARD_REDIRECT+"",Mt.NAVIGATION_ABORTED+"",Mt.NAVIGATION_CANCELLED+"",Mt.NAVIGATION_DUPLICATED+"";function Yr(e,t){return wt(new Error,{type:e,[np]:!0},t)}function mn(e,t){return e instanceof Error&&np in e&&(t==null||!!(e.type&t))}const IE=["params","query","hash"];function bE(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of IE)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function RE(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Xd," "),i=s.indexOf("="),a=ri(i<0?s:s.slice(0,i)),l=i<0?null:ri(s.slice(i+1));if(a in t){let c=t[a];Ke(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ih(e){let t="";for(let n in e){const r=e[n];if(n=aE(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ke(r)?r.map(s=>s&&Ka(s)):[r&&Ka(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function SE(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ke(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const CE=Symbol(""),oh=Symbol(""),ql=Symbol(""),rp=Symbol(""),Xa=Symbol("");function Ps(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ln(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(Yr(Mt.NAVIGATION_ABORTED,{from:n,to:t})):m instanceof Error?c(m):AE(m)?c(Yr(Mt.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(a&&r.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),l())},f=i(()=>e.call(r&&r.instances[s],t,n,h));let p=Promise.resolve(f);e.length<3&&(p=p.then(h)),p.catch(m=>c(m))})}function wa(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Wd(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Ln(h,n,r,a,l,s))}else{let h=c();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=Xy(f)?f.default:f;a.mods[l]=f,a.components[l]=p;const m=(p.__vccOpts||p)[t];return m&&Ln(m,n,r,a,l,s)()}))}}return i}function PE(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(h=>Xr(h,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>Xr(h,c))||s.push(c))}return[n,r,s]}let VE=()=>location.protocol+"//"+location.host;function sp(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),nh(l,"")}return nh(n,e)+r+s}function NE(e,t,n,r){let s=[],i=[],a=null;const l=({state:m})=>{const y=sp(e,location),P=n.value,N=t.value;let D=0;if(m){if(n.value=y,t.value=m,a&&a===P){a=null;return}D=N?m.position-N.position:0}else r(y);s.forEach(z=>{z(n.value,P,{delta:D,type:Wa.pop,direction:D?D>0?Ta.forward:Ta.back:Ta.unknown})})};function c(){a=n.value}function h(m){s.push(m);const y=()=>{const P=s.indexOf(m);P>-1&&s.splice(P,1)};return i.push(y),y}function f(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(wt({},m.state,{scroll:Oo()}),"")}}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:h,destroy:p}}function ah(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Oo():null}}function DE(e){const{history:t,location:n}=window,r={value:sp(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,f){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:VE()+e+c;try{t[f?"replaceState":"pushState"](h,"",m),s.value=h}catch(y){console.error(y),n[f?"replace":"assign"](m)}}function a(c,h){i(c,wt({},t.state,ah(s.value.back,c,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=c}function l(c,h){const f=wt({},s.value,t.state,{forward:c,scroll:Oo()});i(f.current,f,!0),i(c,wt({},ah(r.value,c,null),{position:f.position+1},h),!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function OE(e){e=mE(e);const t=DE(e),n=NE(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=wt({location:"",base:e,go:r,createHref:yE.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let hr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Kt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Kt||{});const xE={type:hr.Static,value:""},kE=/[a-zA-Z0-9_]/;function ME(e){if(!e)return[[]];if(e==="/")return[[xE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=Kt.Static,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,c,h="",f="";function p(){h&&(n===Kt.Static?i.push({type:hr.Static,value:h}):n===Kt.Param||n===Kt.ParamRegExp||n===Kt.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:hr.Param,value:h,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==Kt.ParamRegExp){r=n,n=Kt.EscapeNext;continue}switch(n){case Kt.Static:c==="/"?(h&&p(),a()):c===":"?(p(),n=Kt.Param):m();break;case Kt.EscapeNext:m(),n=r;break;case Kt.Param:c==="("?n=Kt.ParamRegExp:kE.test(c)?m():(p(),n=Kt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case Kt.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=Kt.ParamRegExpEnd:f+=c;break;case Kt.ParamRegExpEnd:p(),n=Kt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===Kt.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}const lh="[^/]+?",LE={sensitive:!1,strict:!1,start:!0,end:!0};var _e=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(_e||{});const FE=/[.+*?^${}()[\]/\\]/g;function UE(e,t){const n=wt({},LE,t),r=[];let s=n.start?"^":"";const i=[];for(const h of e){const f=h.length?[]:[_e.Root];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let y=_e.Segment+(n.sensitive?_e.BonusCaseSensitive:0);if(m.type===hr.Static)p||(s+="/"),s+=m.value.replace(FE,"\\$&"),y+=_e.Static;else if(m.type===hr.Param){const{value:P,repeatable:N,optional:D,regexp:z}=m;i.push({name:P,repeatable:N,optional:D});const j=z||lh;if(j!==lh){y+=_e.BonusCustomRegExp;try{`${j}`}catch($){throw new Error(`Invalid custom RegExp for param "${P}" (${j}): `+$.message)}}let q=N?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;p||(q=D&&h.length<2?`(?:/${q})`:"/"+q),D&&(q+="?"),s+=q,y+=_e.Dynamic,D&&(y+=_e.BonusOptional),N&&(y+=_e.BonusRepeatable),j===".*"&&(y+=_e.BonusWildcard)}f.push(y)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=_e.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const f=h.match(a),p={};if(!f)return null;for(let m=1;m<f.length;m++){const y=f[m]||"",P=i[m-1];p[P.name]=y&&P.repeatable?y.split("/"):y}return p}function c(h){let f="",p=!1;for(const m of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const y of m)if(y.type===hr.Static)f+=y.value;else if(y.type===hr.Param){const{value:P,repeatable:N,optional:D}=y,z=P in h?h[P]:"";if(Ke(z)&&!N)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const j=Ke(z)?z.join("/"):z;if(!j)if(D)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);f+=j}}return f||"/"}return{re:a,score:r,keys:i,parse:l,stringify:c}}function BE(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===_e.Static+_e.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===_e.Static+_e.Segment?1:-1:0}function ip(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=BE(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ch(r))return 1;if(ch(s))return-1}return s.length-r.length}function ch(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jE={strict:!1,end:!0,sensitive:!1};function qE(e,t,n){const r=UE(ME(e.path),n),s=wt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function $E(e,t){const n=[],r=new Map;t=eh(jE,t);function s(p){return r.get(p)}function i(p,m,y){const P=!y,N=hh(p);N.aliasOf=y&&y.record;const D=eh(t,p),z=[N];if("alias"in p){const $=typeof p.alias=="string"?[p.alias]:p.alias;for(const it of $)z.push(hh(wt({},N,{components:y?y.record.components:N.components,path:it,aliasOf:y?y.record:N})))}let j,q;for(const $ of z){const{path:it}=$;if(m&&it[0]!=="/"){const ct=m.record.path,A=ct[ct.length-1]==="/"?"":"/";$.path=m.record.path+(it&&A+it)}if(j=qE($,m,D),y?y.alias.push(j):(q=q||j,q!==j&&q.alias.push(j),P&&p.name&&!fh(j)&&a(p.name)),op(j)&&c(j),N.children){const ct=N.children;for(let A=0;A<ct.length;A++)i(ct[A],j,y&&y.children[A])}y=y||j}return q?()=>{a(q)}:Hs}function a(p){if(ep(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const m=GE(p,n);n.splice(m,0,p),p.record.name&&!fh(p)&&r.set(p.record.name,p)}function h(p,m){let y,P={},N,D;if("name"in p&&p.name){if(y=r.get(p.name),!y)throw Yr(Mt.MATCHER_NOT_FOUND,{location:p});D=y.record.name,P=wt(uh(m.params,y.keys.filter(q=>!q.optional).concat(y.parent?y.parent.keys.filter(q=>q.optional):[]).map(q=>q.name)),p.params&&uh(p.params,y.keys.map(q=>q.name))),N=y.stringify(P)}else if(p.path!=null)N=p.path,y=n.find(q=>q.re.test(N)),y&&(P=y.parse(N),D=y.record.name);else{if(y=m.name?r.get(m.name):n.find(q=>q.re.test(m.path)),!y)throw Yr(Mt.MATCHER_NOT_FOUND,{location:p,currentLocation:m});D=y.record.name,P=wt({},m.params,p.params),N=y.stringify(P)}const z=[];let j=y;for(;j;)z.unshift(j.record),j=j.parent;return{name:D,path:N,params:P,matched:z,meta:zE(z)}}e.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function uh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function hh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:HE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function HE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function fh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zE(e){return e.reduce((t,n)=>wt(t,n.meta),{})}function GE(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;ip(e,t[i])<0?r=i:n=i+1}const s=KE(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function KE(e){let t=e;for(;t=t.parent;)if(op(t)&&ip(e,t)===0)return t}function op({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function dh(e){const t=vn(ql),n=vn(rp),r=Le(()=>{const c=sn(e.to);return t.resolve(c)}),s=Le(()=>{const{matched:c}=r.value,{length:h}=c,f=c[h-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(Xr.bind(null,f));if(m>-1)return m;const y=ph(c[h-2]);return h>1&&ph(f)===y&&p[p.length-1].path!==y?p.findIndex(Xr.bind(null,c[h-2])):m}),i=Le(()=>s.value>-1&&YE(n.params,r.value.params)),a=Le(()=>s.value>-1&&s.value===n.matched.length-1&&tp(n.params,r.value.params));function l(c={}){if(XE(c)){const h=t[sn(e.replace)?"replace":"push"](sn(e.to)).catch(Hs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Le(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function WE(e){return e.length===1?e[0]:e}const QE=Ed({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:dh,setup(e,{slots:t}){const n=So(dh(e)),{options:r}=vn(ql),s=Le(()=>({[gh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[gh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&WE(t.default(n));return e.custom?i:Gd("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),zi=QE;function XE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YE(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ke(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function ph(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gh=(e,t,n)=>e??t??n,JE=Ed({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=vn(Xa),s=Le(()=>e.route||r.value),i=vn(oh,0),a=Le(()=>{let h=sn(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),l=Le(()=>s.value.matched[a.value]);ji(oh,Le(()=>a.value+1)),ji(CE,l),ji(Xa,s);const c=Ne();return qi(()=>[c.value,l.value,e.name],([h,f,p],[m,y,P])=>{f&&(f.instances[p]=h,y&&y!==f&&h&&h===m&&(f.leaveGuards.size||(f.leaveGuards=y.leaveGuards),f.updateGuards.size||(f.updateGuards=y.updateGuards))),h&&f&&(!y||!Xr(f,y)||!m)&&(f.enterCallbacks[p]||[]).forEach(N=>N(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,p=l.value,m=p&&p.components[f];if(!m)return mh(n.default,{Component:m,route:h});const y=p.props[f],P=y?y===!0?h.params:typeof y=="function"?y(h):y:null,D=Gd(m,wt({},P,t,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return mh(n.default,{Component:D,route:h})||D}}});function mh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ap=JE;function ZE(e){const t=$E(e.routes,e),n=e.parseQuery||RE,r=e.stringifyQuery||ih,s=e.history,i=Ps(),a=Ps(),l=Ps(),c=c_(On);let h=On;xr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ea.bind(null,x=>""+x),p=Ea.bind(null,cE),m=Ea.bind(null,ri);function y(x,X){let W,tt;return ep(x)?(W=t.getRecordMatcher(x),tt=X):tt=x,t.addRoute(tt,W)}function P(x){const X=t.getRecordMatcher(x);X&&t.removeRoute(X)}function N(){return t.getRoutes().map(x=>x.record)}function D(x){return!!t.getRecordMatcher(x)}function z(x,X){if(X=wt({},X||c.value),typeof x=="string"){const R=va(n,x,X.path),k=t.resolve({path:R.path},X),L=s.createHref(R.fullPath);return wt(R,k,{params:m(k.params),hash:ri(R.hash),redirectedFrom:void 0,href:L})}let W;if(x.path!=null)W=wt({},x,{path:va(n,x.path,X.path).path});else{const R=wt({},x.params);for(const k in R)R[k]==null&&delete R[k];W=wt({},x,{params:p(R)}),X.params=p(X.params)}const tt=t.resolve(W,X),dt=x.hash||"";tt.params=f(m(tt.params));const _=fE(r,wt({},x,{hash:oE(dt),path:tt.path})),w=s.createHref(_);return wt({fullPath:_,hash:dt,query:r===ih?SE(x.query):x.query||{}},tt,{redirectedFrom:void 0,href:w})}function j(x){return typeof x=="string"?va(n,x,c.value.path):wt({},x)}function q(x,X){if(h!==x)return Yr(Mt.NAVIGATION_CANCELLED,{from:X,to:x})}function $(x){return A(x)}function it(x){return $(wt(j(x),{replace:!0}))}function ct(x,X){const W=x.matched[x.matched.length-1];if(W&&W.redirect){const{redirect:tt}=W;let dt=typeof tt=="function"?tt(x,X):tt;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=j(dt):{path:dt},dt.params={}),wt({query:x.query,hash:x.hash,params:dt.path!=null?{}:x.params},dt)}}function A(x,X){const W=h=z(x),tt=c.value,dt=x.state,_=x.force,w=x.replace===!0,R=ct(W,tt);if(R)return A(wt(j(R),{state:typeof R=="object"?wt({},dt,R.state):dt,force:_,replace:w}),X||W);const k=W;k.redirectedFrom=X;let L;return!_&&dE(r,tt,W)&&(L=Yr(Mt.NAVIGATION_DUPLICATED,{to:k,from:tt}),Re(tt,tt,!0,!1)),(L?Promise.resolve(L):b(k,tt)).catch(O=>mn(O)?mn(O,Mt.NAVIGATION_GUARD_REDIRECT)?O:Xe(O):pt(O,k,tt)).then(O=>{if(O){if(mn(O,Mt.NAVIGATION_GUARD_REDIRECT))return A(wt({replace:w},j(O.to),{state:typeof O.to=="object"?wt({},dt,O.to.state):dt,force:_}),X||k)}else O=S(k,tt,!0,w,dt);return I(k,tt,O),O})}function E(x,X){const W=q(x,X);return W?Promise.reject(W):Promise.resolve()}function T(x){const X=je.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(x):x()}function b(x,X){let W;const[tt,dt,_]=PE(x,X);W=wa(tt.reverse(),"beforeRouteLeave",x,X);for(const R of tt)R.leaveGuards.forEach(k=>{W.push(Ln(k,x,X))});const w=E.bind(null,x,X);return W.push(w),re(W).then(()=>{W=[];for(const R of i.list())W.push(Ln(R,x,X));return W.push(w),re(W)}).then(()=>{W=wa(dt,"beforeRouteUpdate",x,X);for(const R of dt)R.updateGuards.forEach(k=>{W.push(Ln(k,x,X))});return W.push(w),re(W)}).then(()=>{W=[];for(const R of _)if(R.beforeEnter)if(Ke(R.beforeEnter))for(const k of R.beforeEnter)W.push(Ln(k,x,X));else W.push(Ln(R.beforeEnter,x,X));return W.push(w),re(W)}).then(()=>(x.matched.forEach(R=>R.enterCallbacks={}),W=wa(_,"beforeRouteEnter",x,X,T),W.push(w),re(W))).then(()=>{W=[];for(const R of a.list())W.push(Ln(R,x,X));return W.push(w),re(W)}).catch(R=>mn(R,Mt.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function I(x,X,W){l.list().forEach(tt=>T(()=>tt(x,X,W)))}function S(x,X,W,tt,dt){const _=q(x,X);if(_)return _;const w=X===On,R=xr?history.state:{};W&&(tt||w?s.replace(x.fullPath,wt({scroll:w&&R&&R.scroll},dt)):s.push(x.fullPath,dt)),c.value=x,Re(x,X,W,w),Xe()}let v;function Bt(){v||(v=s.listen((x,X,W)=>{if(!qe.listening)return;const tt=z(x),dt=ct(tt,qe.currentRoute.value);if(dt){A(wt(dt,{replace:!0,force:!0}),tt).catch(Hs);return}h=tt;const _=c.value;xr&&TE(sh(_.fullPath,W.delta),Oo()),b(tt,_).catch(w=>mn(w,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_CANCELLED)?w:mn(w,Mt.NAVIGATION_GUARD_REDIRECT)?(A(wt(j(w.to),{force:!0}),tt).then(R=>{mn(R,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&!W.delta&&W.type===Wa.pop&&s.go(-1,!1)}).catch(Hs),Promise.reject()):(W.delta&&s.go(-W.delta,!1),pt(w,tt,_))).then(w=>{w=w||S(tt,_,!1),w&&(W.delta&&!mn(w,Mt.NAVIGATION_CANCELLED)?s.go(-W.delta,!1):W.type===Wa.pop&&mn(w,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),I(tt,_,w)}).catch(Hs)}))}let ve=Ps(),jt=Ps(),Tt;function pt(x,X,W){Xe(x);const tt=jt.list();return tt.length?tt.forEach(dt=>dt(x,X,W)):console.error(x),Promise.reject(x)}function Te(){return Tt&&c.value!==On?Promise.resolve():new Promise((x,X)=>{ve.add([x,X])})}function Xe(x){return Tt||(Tt=!x,Bt(),ve.list().forEach(([X,W])=>x?W(x):X()),ve.reset()),x}function Re(x,X,W,tt){const{scrollBehavior:dt}=e;if(!xr||!dt)return Promise.resolve();const _=!W&&wE(sh(x.fullPath,0))||(tt||!W)&&history.state&&history.state.scroll||null;return pd().then(()=>dt(x,X,_)).then(w=>w&&vE(w)).catch(w=>pt(w,x,X))}const Zt=x=>s.go(x);let pn;const je=new Set,qe={currentRoute:c,listening:!0,addRoute:y,removeRoute:P,clearRoutes:t.clearRoutes,hasRoute:D,getRoutes:N,resolve:z,options:e,push:$,replace:it,go:Zt,back:()=>Zt(-1),forward:()=>Zt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:jt.add,isReady:Te,install(x){x.component("RouterLink",zi),x.component("RouterView",ap),x.config.globalProperties.$router=qe,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>sn(c)}),xr&&!pn&&c.value===On&&(pn=!0,$(s.location).catch(tt=>{}));const X={};for(const tt in On)Object.defineProperty(X,tt,{get:()=>c.value[tt],enumerable:!0});x.provide(ql,qe),x.provide(rp,ud(X)),x.provide(Xa,c);const W=x.unmount;je.add(x),x.unmount=function(){je.delete(x),je.size<1&&(h=On,v&&v(),v=null,c.value=On,pn=!1,Tt=!1),W()}}};function re(x){return x.reduce((X,W)=>X.then(()=>T(W)),Promise.resolve())}return qe}const fi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},tv={class:"wrapper"},ev={class:"main-nav"},nv={__name:"App",setup(e){return(t,n)=>(De(),Me(He,null,[Z("header",null,[Z("div",tv,[Z("nav",ev,[Wt(sn(zi),{to:"/",class:"nav-link"},{default:Bi(()=>[...n[0]||(n[0]=[Z("span",{class:"nav-icon"},null,-1),gr(" Carga ZIP ",-1)])]),_:1}),Wt(sn(zi),{to:"/vue-demo",class:"nav-link"},{default:Bi(()=>[...n[1]||(n[1]=[Z("span",{class:"nav-icon"},null,-1),gr(" Vue 3 Demo ",-1)])]),_:1}),Wt(sn(zi),{to:"/data",class:"nav-link"},{default:Bi(()=>[...n[2]||(n[2]=[Z("span",{class:"nav-icon"},null,-1),gr(" Datos Procesados ",-1)])]),_:1})])])]),Wt(sn(ap))],64))}},rv=fi(nv,[["__scopeId","data-v-b2c621d2"]]),sv=()=>{};var _h={};const lp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},iv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,h=c?e[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new ov;const m=i<<2|l>>4;if(r.push(m),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const P=h<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ov extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const av=function(e){const t=lp(e);return cp.encodeByteArray(t,!0)},oo=function(e){return av(e).replace(/\./g,"")},lv=function(e){try{return cp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uv=()=>cv().__FIREBASE_DEFAULTS__,hv=()=>{if(typeof process>"u"||typeof _h>"u")return;const e=_h.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&lv(e[1]);return t&&JSON.parse(t)},$l=()=>{try{return sv()||uv()||hv()||fv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},dv=e=>$l()?.emulatorHosts?.[e],Hl=e=>{const t=dv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},up=()=>$l()?.config;class pv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Ar(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zl(e){return(await fetch(e,{credentials:"include"})).ok}function hp(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[oo(JSON.stringify(n)),oo(JSON.stringify(a)),""].join(".")}const zs={};function gv(){const e={prod:[],emulator:[]};for(const t of Object.keys(zs))zs[t]?e.emulator.push(t):e.prod.push(t);return e}function mv(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let yh=!1;function Gl(e,t){if(typeof window>"u"||typeof document>"u"||!Ar(window.location.host)||zs[e]===t||zs[e]||yh)return;zs[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=gv().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{yh=!0,a()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=mv(r),y=n("text"),P=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),z=n("preprendIcon"),j=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const q=m.element;l(q),f(D,N);const $=h();c(j,z),q.append(j,P,D,$),document.body.appendChild(q)}i?(P.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function _v(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yv(){const e=$l()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ev(){return!yv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vv(){try{return typeof indexedDB=="object"}catch{return!1}}function Tv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const wv="FirebaseError";class er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wv,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fp.prototype.create)}}class fp{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?Av(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new er(s,l,r)}}function Av(e,t){return e.replace(Iv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Iv=/\{\$([^}]+)}/g;function ao(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Eh(i)&&Eh(a)){if(!ao(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Eh(e){return e!==null&&typeof e=="object"}function We(e){return e&&e._delegate?e._delegate:e}class Er{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ur="[DEFAULT]";class bv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new pv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Sv(t))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ur){return this.instances.has(t)}getOptions(t=ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ur){return this.component?this.component.multipleInstances?t:ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rv(e){return e===ur?void 0:e}function Sv(e){return e.instantiationMode==="EAGER"}class Cv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var _t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_t||(_t={}));const Pv={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},Vv=_t.INFO,Nv={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},Dv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Nv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dp{constructor(t){this.name=t,this._logLevel=Vv,this._logHandler=Dv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...t),this._logHandler(this,_t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...t),this._logHandler(this,_t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...t),this._logHandler(this,_t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...t),this._logHandler(this,_t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...t),this._logHandler(this,_t.ERROR,...t)}}const Ov=(e,t)=>t.some(n=>e instanceof n);let vh,Th;function xv(){return vh||(vh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kv(){return Th||(Th=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pp=new WeakMap,Ya=new WeakMap,gp=new WeakMap,Aa=new WeakMap,Kl=new WeakMap;function Mv(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(qn(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&pp.set(n,e)}).catch(()=>{}),Kl.set(t,e),t}function Lv(e){if(Ya.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Ya.set(e,t)}let Ja={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ya.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Fv(e){Ja=e(Ja)}function Uv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ia(this),t,...n);return gp.set(r,t.sort?t.sort():[t]),qn(r)}:kv().includes(e)?function(...t){return e.apply(Ia(this),t),qn(pp.get(this))}:function(...t){return qn(e.apply(Ia(this),t))}}function Bv(e){return typeof e=="function"?Uv(e):(e instanceof IDBTransaction&&Lv(e),Ov(e,xv())?new Proxy(e,Ja):e)}function qn(e){if(e instanceof IDBRequest)return Mv(e);if(Aa.has(e))return Aa.get(e);const t=Bv(e);return t!==e&&(Aa.set(e,t),Kl.set(t,e)),t}const Ia=e=>Kl.get(e);function jv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=qn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(qn(a.result),c.oldVersion,c.newVersion,qn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const qv=["get","getKey","getAll","getAllKeys","count"],$v=["put","add","delete","clear"],ba=new Map;function wh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ba.get(t))return ba.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=$v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qv.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return ba.set(t,i),i}Fv(e=>({...e,get:(t,n,r)=>wh(t,n)||e.get(t,n,r),has:(t,n)=>!!wh(t,n)||e.has(t,n)}));class Hv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zv(e){return e.getComponent()?.type==="VERSION"}const Za="@firebase/app",Ah="0.14.6";const In=new dp("@firebase/app"),Gv="@firebase/app-compat",Kv="@firebase/analytics-compat",Wv="@firebase/analytics",Qv="@firebase/app-check-compat",Xv="@firebase/app-check",Yv="@firebase/auth",Jv="@firebase/auth-compat",Zv="@firebase/database",tT="@firebase/data-connect",eT="@firebase/database-compat",nT="@firebase/functions",rT="@firebase/functions-compat",sT="@firebase/installations",iT="@firebase/installations-compat",oT="@firebase/messaging",aT="@firebase/messaging-compat",lT="@firebase/performance",cT="@firebase/performance-compat",uT="@firebase/remote-config",hT="@firebase/remote-config-compat",fT="@firebase/storage",dT="@firebase/storage-compat",pT="@firebase/firestore",gT="@firebase/ai",mT="@firebase/firestore-compat",_T="firebase",yT="12.6.0";const tl="[DEFAULT]",ET={[Za]:"fire-core",[Gv]:"fire-core-compat",[Wv]:"fire-analytics",[Kv]:"fire-analytics-compat",[Xv]:"fire-app-check",[Qv]:"fire-app-check-compat",[Yv]:"fire-auth",[Jv]:"fire-auth-compat",[Zv]:"fire-rtdb",[tT]:"fire-data-connect",[eT]:"fire-rtdb-compat",[nT]:"fire-fn",[rT]:"fire-fn-compat",[sT]:"fire-iid",[iT]:"fire-iid-compat",[oT]:"fire-fcm",[aT]:"fire-fcm-compat",[lT]:"fire-perf",[cT]:"fire-perf-compat",[uT]:"fire-rc",[hT]:"fire-rc-compat",[fT]:"fire-gcs",[dT]:"fire-gcs-compat",[pT]:"fire-fst",[mT]:"fire-fst-compat",[gT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};const lo=new Map,vT=new Map,el=new Map;function Ih(e,t){try{e.container.addComponent(t)}catch(n){In.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jr(e){const t=e.name;if(el.has(t))return In.debug(`There were multiple attempts to register component ${t}.`),!1;el.set(t,e);for(const n of lo.values())Ih(n,e);for(const n of vT.values())Ih(n,e);return!0}function Wl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ql(e){return e==null?!1:e.settings!==void 0}const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new fp("app","Firebase",TT);class wT{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const mp=yT;function _p(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:tl,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw $n.create("bad-app-name",{appName:String(s)});if(n||(n=up()),!n)throw $n.create("no-options");const i=lo.get(s);if(i){if(ao(n,i.options)&&ao(r,i.config))return i;throw $n.create("duplicate-app",{appName:s})}const a=new Cv(s);for(const c of el.values())a.addComponent(c);const l=new wT(n,r,a);return lo.set(s,l),l}function Xl(e=tl){const t=lo.get(e);if(!t&&e===tl&&up())return _p();if(!t)throw $n.create("no-app",{appName:e});return t}function ln(e,t,n){let r=ET[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),In.warn(a.join(" "));return}Jr(new Er(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const AT="firebase-heartbeat-database",IT=1,si="firebase-heartbeat-store";let Ra=null;function yp(){return Ra||(Ra=jv(AT,IT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(si)}catch(n){console.warn(n)}}}}).catch(e=>{throw $n.create("idb-open",{originalErrorMessage:e.message})})),Ra}async function bT(e){try{const n=(await yp()).transaction(si),r=await n.objectStore(si).get(Ep(e));return await n.done,r}catch(t){if(t instanceof er)In.warn(t.message);else{const n=$n.create("idb-get",{originalErrorMessage:t?.message});In.warn(n.message)}}}async function bh(e,t){try{const r=(await yp()).transaction(si,"readwrite");await r.objectStore(si).put(t,Ep(e)),await r.done}catch(n){if(n instanceof er)In.warn(n.message);else{const r=$n.create("idb-set",{originalErrorMessage:n?.message});In.warn(r.message)}}}function Ep(e){return`${e.name}!${e.options.appId}`}const RT=1024,ST=30;class CT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rh();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ST){const s=NT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){In.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rh(),{heartbeatsToSend:n,unsentEntries:r}=PT(this._heartbeatsCache.heartbeats),s=oo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return In.warn(t),""}}}function Rh(){return new Date().toISOString().substring(0,10)}function PT(e,t=RT){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Sh(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vv()?Tv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bh(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bh(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Sh(e){return oo(JSON.stringify({version:2,heartbeats:e})).length}function NT(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function DT(e){Jr(new Er("platform-logger",t=>new Hv(t),"PRIVATE")),Jr(new Er("heartbeat",t=>new CT(t),"PRIVATE")),ln(Za,Ah,e),ln(Za,Ah,"esm2020"),ln("fire-js","")}DT("");var OT="firebase",xT="12.6.0";ln(OT,xT,"app");var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hn,vp;(function(){var e;function t(A,E){function T(){}T.prototype=E.prototype,A.F=E.prototype,A.prototype=new T,A.prototype.constructor=A,A.D=function(b,I,S){for(var v=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)v[Bt-2]=arguments[Bt];return E.prototype[I].apply(b,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,T){T||(T=0);const b=Array(16);if(typeof E=="string")for(var I=0;I<16;++I)b[I]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(I=0;I<16;++I)b[I]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=A.g[0],T=A.g[1],I=A.g[2];let S=A.g[3],v;v=E+(S^T&(I^S))+b[0]+3614090360&4294967295,E=T+(v<<7&4294967295|v>>>25),v=S+(I^E&(T^I))+b[1]+3905402710&4294967295,S=E+(v<<12&4294967295|v>>>20),v=I+(T^S&(E^T))+b[2]+606105819&4294967295,I=S+(v<<17&4294967295|v>>>15),v=T+(E^I&(S^E))+b[3]+3250441966&4294967295,T=I+(v<<22&4294967295|v>>>10),v=E+(S^T&(I^S))+b[4]+4118548399&4294967295,E=T+(v<<7&4294967295|v>>>25),v=S+(I^E&(T^I))+b[5]+1200080426&4294967295,S=E+(v<<12&4294967295|v>>>20),v=I+(T^S&(E^T))+b[6]+2821735955&4294967295,I=S+(v<<17&4294967295|v>>>15),v=T+(E^I&(S^E))+b[7]+4249261313&4294967295,T=I+(v<<22&4294967295|v>>>10),v=E+(S^T&(I^S))+b[8]+1770035416&4294967295,E=T+(v<<7&4294967295|v>>>25),v=S+(I^E&(T^I))+b[9]+2336552879&4294967295,S=E+(v<<12&4294967295|v>>>20),v=I+(T^S&(E^T))+b[10]+4294925233&4294967295,I=S+(v<<17&4294967295|v>>>15),v=T+(E^I&(S^E))+b[11]+2304563134&4294967295,T=I+(v<<22&4294967295|v>>>10),v=E+(S^T&(I^S))+b[12]+1804603682&4294967295,E=T+(v<<7&4294967295|v>>>25),v=S+(I^E&(T^I))+b[13]+4254626195&4294967295,S=E+(v<<12&4294967295|v>>>20),v=I+(T^S&(E^T))+b[14]+2792965006&4294967295,I=S+(v<<17&4294967295|v>>>15),v=T+(E^I&(S^E))+b[15]+1236535329&4294967295,T=I+(v<<22&4294967295|v>>>10),v=E+(I^S&(T^I))+b[1]+4129170786&4294967295,E=T+(v<<5&4294967295|v>>>27),v=S+(T^I&(E^T))+b[6]+3225465664&4294967295,S=E+(v<<9&4294967295|v>>>23),v=I+(E^T&(S^E))+b[11]+643717713&4294967295,I=S+(v<<14&4294967295|v>>>18),v=T+(S^E&(I^S))+b[0]+3921069994&4294967295,T=I+(v<<20&4294967295|v>>>12),v=E+(I^S&(T^I))+b[5]+3593408605&4294967295,E=T+(v<<5&4294967295|v>>>27),v=S+(T^I&(E^T))+b[10]+38016083&4294967295,S=E+(v<<9&4294967295|v>>>23),v=I+(E^T&(S^E))+b[15]+3634488961&4294967295,I=S+(v<<14&4294967295|v>>>18),v=T+(S^E&(I^S))+b[4]+3889429448&4294967295,T=I+(v<<20&4294967295|v>>>12),v=E+(I^S&(T^I))+b[9]+568446438&4294967295,E=T+(v<<5&4294967295|v>>>27),v=S+(T^I&(E^T))+b[14]+3275163606&4294967295,S=E+(v<<9&4294967295|v>>>23),v=I+(E^T&(S^E))+b[3]+4107603335&4294967295,I=S+(v<<14&4294967295|v>>>18),v=T+(S^E&(I^S))+b[8]+1163531501&4294967295,T=I+(v<<20&4294967295|v>>>12),v=E+(I^S&(T^I))+b[13]+2850285829&4294967295,E=T+(v<<5&4294967295|v>>>27),v=S+(T^I&(E^T))+b[2]+4243563512&4294967295,S=E+(v<<9&4294967295|v>>>23),v=I+(E^T&(S^E))+b[7]+1735328473&4294967295,I=S+(v<<14&4294967295|v>>>18),v=T+(S^E&(I^S))+b[12]+2368359562&4294967295,T=I+(v<<20&4294967295|v>>>12),v=E+(T^I^S)+b[5]+4294588738&4294967295,E=T+(v<<4&4294967295|v>>>28),v=S+(E^T^I)+b[8]+2272392833&4294967295,S=E+(v<<11&4294967295|v>>>21),v=I+(S^E^T)+b[11]+1839030562&4294967295,I=S+(v<<16&4294967295|v>>>16),v=T+(I^S^E)+b[14]+4259657740&4294967295,T=I+(v<<23&4294967295|v>>>9),v=E+(T^I^S)+b[1]+2763975236&4294967295,E=T+(v<<4&4294967295|v>>>28),v=S+(E^T^I)+b[4]+1272893353&4294967295,S=E+(v<<11&4294967295|v>>>21),v=I+(S^E^T)+b[7]+4139469664&4294967295,I=S+(v<<16&4294967295|v>>>16),v=T+(I^S^E)+b[10]+3200236656&4294967295,T=I+(v<<23&4294967295|v>>>9),v=E+(T^I^S)+b[13]+681279174&4294967295,E=T+(v<<4&4294967295|v>>>28),v=S+(E^T^I)+b[0]+3936430074&4294967295,S=E+(v<<11&4294967295|v>>>21),v=I+(S^E^T)+b[3]+3572445317&4294967295,I=S+(v<<16&4294967295|v>>>16),v=T+(I^S^E)+b[6]+76029189&4294967295,T=I+(v<<23&4294967295|v>>>9),v=E+(T^I^S)+b[9]+3654602809&4294967295,E=T+(v<<4&4294967295|v>>>28),v=S+(E^T^I)+b[12]+3873151461&4294967295,S=E+(v<<11&4294967295|v>>>21),v=I+(S^E^T)+b[15]+530742520&4294967295,I=S+(v<<16&4294967295|v>>>16),v=T+(I^S^E)+b[2]+3299628645&4294967295,T=I+(v<<23&4294967295|v>>>9),v=E+(I^(T|~S))+b[0]+4096336452&4294967295,E=T+(v<<6&4294967295|v>>>26),v=S+(T^(E|~I))+b[7]+1126891415&4294967295,S=E+(v<<10&4294967295|v>>>22),v=I+(E^(S|~T))+b[14]+2878612391&4294967295,I=S+(v<<15&4294967295|v>>>17),v=T+(S^(I|~E))+b[5]+4237533241&4294967295,T=I+(v<<21&4294967295|v>>>11),v=E+(I^(T|~S))+b[12]+1700485571&4294967295,E=T+(v<<6&4294967295|v>>>26),v=S+(T^(E|~I))+b[3]+2399980690&4294967295,S=E+(v<<10&4294967295|v>>>22),v=I+(E^(S|~T))+b[10]+4293915773&4294967295,I=S+(v<<15&4294967295|v>>>17),v=T+(S^(I|~E))+b[1]+2240044497&4294967295,T=I+(v<<21&4294967295|v>>>11),v=E+(I^(T|~S))+b[8]+1873313359&4294967295,E=T+(v<<6&4294967295|v>>>26),v=S+(T^(E|~I))+b[15]+4264355552&4294967295,S=E+(v<<10&4294967295|v>>>22),v=I+(E^(S|~T))+b[6]+2734768916&4294967295,I=S+(v<<15&4294967295|v>>>17),v=T+(S^(I|~E))+b[13]+1309151649&4294967295,T=I+(v<<21&4294967295|v>>>11),v=E+(I^(T|~S))+b[4]+4149444226&4294967295,E=T+(v<<6&4294967295|v>>>26),v=S+(T^(E|~I))+b[11]+3174756917&4294967295,S=E+(v<<10&4294967295|v>>>22),v=I+(E^(S|~T))+b[2]+718787259&4294967295,I=S+(v<<15&4294967295|v>>>17),v=T+(S^(I|~E))+b[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(I+(v<<21&4294967295|v>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.v=function(A,E){E===void 0&&(E=A.length);const T=E-this.blockSize,b=this.C;let I=this.h,S=0;for(;S<E;){if(I==0)for(;S<=T;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<E;)if(b[I++]=A.charCodeAt(S++),I==this.blockSize){s(this,b),I=0;break}}else for(;S<E;)if(b[I++]=A[S++],I==this.blockSize){s(this,b),I=0;break}}this.h=I,this.o+=E},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var T=A.length-8;T<A.length;++T)A[T]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,T=0;T<4;++T)for(let b=0;b<32;b+=8)A[E++]=this.g[T]>>>b&255;return A};function i(A,E){var T=l;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=E(A)}function a(A,E){this.h=E;const T=[];let b=!0;for(let I=A.length-1;I>=0;I--){const S=A[I]|0;b&&S==E||(T[I]=S,b=!1)}this.g=T}var l={};function c(A){return-128<=A&&A<128?i(A,function(E){return new a([E|0],E<0?-1:0)}):new a([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return D(h(-A));const E=[];let T=1;for(let b=0;A>=T;b++)E[b]=A/T|0,T*=4294967296;return new a(E,0)}function f(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return D(f(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(E,8));let b=p;for(let S=0;S<A.length;S+=8){var I=Math.min(8,A.length-S);const v=parseInt(A.substring(S,S+I),E);I<8?(I=h(Math.pow(E,I)),b=b.j(I).add(h(v))):(b=b.j(T),b=b.add(h(v)))}return b}var p=c(0),m=c(1),y=c(16777216);e=a.prototype,e.m=function(){if(N(this))return-D(this).m();let A=0,E=1;for(let T=0;T<this.g.length;T++){const b=this.i(T);A+=(b>=0?b:4294967296+b)*E,E*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P(this))return"0";if(N(this))return"-"+D(this).toString(A);const E=h(Math.pow(A,6));var T=this;let b="";for(;;){const I=$(T,E).g;T=z(T,I.j(E));let S=((T.g.length>0?T.g[0]:T.h)>>>0).toString(A);if(T=I,P(T))return S+b;for(;S.length<6;)S="0"+S;b=S+b}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function P(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function N(A){return A.h==-1}e.l=function(A){return A=z(this,A),N(A)?-1:P(A)?0:1};function D(A){const E=A.g.length,T=[];for(let b=0;b<E;b++)T[b]=~A.g[b];return new a(T,~A.h).add(m)}e.abs=function(){return N(this)?D(this):this},e.add=function(A){const E=Math.max(this.g.length,A.g.length),T=[];let b=0;for(let I=0;I<=E;I++){let S=b+(this.i(I)&65535)+(A.i(I)&65535),v=(S>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);b=v>>>16,S&=65535,v&=65535,T[I]=v<<16|S}return new a(T,T[T.length-1]&-2147483648?-1:0)};function z(A,E){return A.add(D(E))}e.j=function(A){if(P(this)||P(A))return p;if(N(this))return N(A)?D(this).j(D(A)):D(D(this).j(A));if(N(A))return D(this.j(D(A)));if(this.l(y)<0&&A.l(y)<0)return h(this.m()*A.m());const E=this.g.length+A.g.length,T=[];for(var b=0;b<2*E;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(let I=0;I<A.g.length;I++){const S=this.i(b)>>>16,v=this.i(b)&65535,Bt=A.i(I)>>>16,ve=A.i(I)&65535;T[2*b+2*I]+=v*ve,j(T,2*b+2*I),T[2*b+2*I+1]+=S*ve,j(T,2*b+2*I+1),T[2*b+2*I+1]+=v*Bt,j(T,2*b+2*I+1),T[2*b+2*I+2]+=S*Bt,j(T,2*b+2*I+2)}for(A=0;A<E;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=E;A<2*E;A++)T[A]=0;return new a(T,0)};function j(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function q(A,E){this.g=A,this.h=E}function $(A,E){if(P(E))throw Error("division by zero");if(P(A))return new q(p,p);if(N(A))return E=$(D(A),E),new q(D(E.g),D(E.h));if(N(E))return E=$(A,D(E)),new q(D(E.g),E.h);if(A.g.length>30){if(N(A)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var T=m,b=E;b.l(A)<=0;)T=it(T),b=it(b);var I=ct(T,1),S=ct(b,1);for(b=ct(b,2),T=ct(T,2);!P(b);){var v=S.add(b);v.l(A)<=0&&(I=I.add(T),S=v),b=ct(b,1),T=ct(T,1)}return E=z(A,I.j(E)),new q(I,E)}for(I=p;A.l(E)>=0;){for(T=Math.max(1,Math.floor(A.m()/E.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),S=h(T),v=S.j(E);N(v)||v.l(A)>0;)T-=b,S=h(T),v=S.j(E);P(S)&&(S=m),I=I.add(S),A=z(A,v)}return new q(I,A)}e.B=function(A){return $(this,A).h},e.and=function(A){const E=Math.max(this.g.length,A.g.length),T=[];for(let b=0;b<E;b++)T[b]=this.i(b)&A.i(b);return new a(T,this.h&A.h)},e.or=function(A){const E=Math.max(this.g.length,A.g.length),T=[];for(let b=0;b<E;b++)T[b]=this.i(b)|A.i(b);return new a(T,this.h|A.h)},e.xor=function(A){const E=Math.max(this.g.length,A.g.length),T=[];for(let b=0;b<E;b++)T[b]=this.i(b)^A.i(b);return new a(T,this.h^A.h)};function it(A){const E=A.g.length+1,T=[];for(let b=0;b<E;b++)T[b]=A.i(b)<<1|A.i(b-1)>>>31;return new a(T,A.h)}function ct(A,E){const T=E>>5;E%=32;const b=A.g.length-T,I=[];for(let S=0;S<b;S++)I[S]=E>0?A.i(S+T)>>>E|A.i(S+T+1)<<32-E:A.i(S+T);return new a(I,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vp=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Hn=a}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});var Di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tp,Os,wp,Gi,nl,Ap,Ip,bp;(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Di=="object"&&Di];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)t:{var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var C=o[g];if(!(C in d))break t;d=d[C]}o=o[o.length-1],g=d[o],u=u(g),u!=g&&u!=null&&t(d,o,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(u){var d=[],g;for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&d.push([g,u[g]]);return d}});var i=i||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,d){return o.call.apply(o.bind,arguments)}function h(o,u,d){return h=c,h.apply(null,arguments)}function f(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function p(o,u){function d(){}d.prototype=u.prototype,o.Z=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(g,C,V){for(var G=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)G[ht-2]=arguments[ht];return u.prototype[C].apply(g,G)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const u=o.length;if(u>0){const d=Array(u);for(let g=0;g<u;g++)d[g]=o[g];return d}return[]}function P(o,u){for(let g=1;g<arguments.length;g++){const C=arguments[g];var d=typeof C;if(d=d!="object"?d:C?Array.isArray(C)?"array":d:"null",d=="array"||d=="object"&&typeof C.length=="number"){d=o.length||0;const V=C.length||0;o.length=d+V;for(let G=0;G<V;G++)o[d+G]=C[G]}else o.push(C)}}class N{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function D(o){a.setTimeout(()=>{throw o},0)}function z(){var o=A;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class j{constructor(){this.h=this.g=null}add(u,d){const g=q.get();g.set(u,d),this.h?this.h.next=g:this.g=g,this.h=g}}var q=new N(()=>new $,o=>o.reset());class ${constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,A=new j,E=()=>{const o=Promise.resolve(void 0);it=()=>{o.then(T)}};function T(){for(var o;o=z();){try{o.h.call(o.g)}catch(d){D(d)}var u=q;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}ct=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,u),a.removeEventListener("test",d,u)}catch{}return o})();function v(o){return/^[\s\xa0]*$/.test(o)}function Bt(o,u){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(Bt,I),Bt.prototype.init=function(o,u){const d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Bt.Z.h.call(this)},Bt.prototype.h=function(){Bt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),jt=0;function Tt(o,u,d,g,C){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.ha=C,this.key=++jt,this.da=this.fa=!1}function pt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Te(o,u,d){for(const g in o)u.call(d,o[g],g,o)}function Xe(o,u){for(const d in o)u.call(void 0,o[d],d,o)}function Re(o){const u={};for(const d in o)u[d]=o[d];return u}const Zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pn(o,u){let d,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(d in g)o[d]=g[d];for(let V=0;V<Zt.length;V++)d=Zt[V],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function je(o){this.src=o,this.g={},this.h=0}je.prototype.add=function(o,u,d,g,C){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const G=re(o,u,g,C);return G>-1?(u=o[G],d||(u.fa=!1)):(u=new Tt(u,this.src,V,!!g,C),u.fa=d,o.push(u)),u};function qe(o,u){const d=u.type;if(d in o.g){var g=o.g[d],C=Array.prototype.indexOf.call(g,u,void 0),V;(V=C>=0)&&Array.prototype.splice.call(g,C,1),V&&(pt(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function re(o,u,d,g){for(let C=0;C<o.length;++C){const V=o[C];if(!V.da&&V.listener==u&&V.capture==!!d&&V.ha==g)return C}return-1}var x="closure_lm_"+(Math.random()*1e6|0),X={};function W(o,u,d,g,C){if(Array.isArray(u)){for(let V=0;V<u.length;V++)W(o,u[V],d,g,C);return null}return d=K(d),o&&o[ve]?o.J(u,d,l(g)?!!g.capture:!1,C):tt(o,u,d,!1,g,C)}function tt(o,u,d,g,C,V){if(!u)throw Error("Invalid event type");const G=l(C)?!!C.capture:!!C;let ht=L(o);if(ht||(o[x]=ht=new je(o)),d=ht.add(u,d,g,G,V),d.proxy)return d;if(g=dt(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)S||(C=G),C===void 0&&(C=!1),o.addEventListener(u.toString(),g,C);else if(o.attachEvent)o.attachEvent(R(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function dt(){function o(d){return u.call(o.src,o.listener,d)}const u=k;return o}function _(o,u,d,g,C){if(Array.isArray(u))for(var V=0;V<u.length;V++)_(o,u[V],d,g,C);else g=l(g)?!!g.capture:!!g,d=K(d),o&&o[ve]?(o=o.i,V=String(u).toString(),V in o.g&&(u=o.g[V],d=re(u,d,g,C),d>-1&&(pt(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete o.g[V],o.h--)))):o&&(o=L(o))&&(u=o.g[u.toString()],o=-1,u&&(o=re(u,d,g,C)),(d=o>-1?u[o]:null)&&w(d))}function w(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[ve])qe(u.i,o);else{var d=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(d,g,o.capture):u.detachEvent?u.detachEvent(R(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=L(u))?(qe(d,o),d.h==0&&(d.src=null,u[x]=null)):pt(o)}}}function R(o){return o in X?X[o]:X[o]="on"+o}function k(o,u){if(o.da)o=!0;else{u=new Bt(u,this);const d=o.listener,g=o.ha||o.src;o.fa&&w(o),o=d.call(g,u)}return o}function L(o){return o=o[x],o instanceof je?o:null}var O="__closure_events_fn_"+(Math.random()*1e9>>>0);function K(o){return typeof o=="function"?o:(o[O]||(o[O]=function(u){return o.handleEvent(u)}),o[O])}function B(){b.call(this),this.i=new je(this),this.M=this,this.G=null}p(B,b),B.prototype[ve]=!0,B.prototype.removeEventListener=function(o,u,d,g){_(this,o,u,d,g)};function U(o,u){var d,g=o.G;if(g)for(d=[];g;g=g.G)d.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new I(u,o);else if(u instanceof I)u.target=u.target||o;else{var C=u;u=new I(g,o),pn(u,C)}C=!0;let V,G;if(d)for(G=d.length-1;G>=0;G--)V=u.g=d[G],C=F(V,g,!0,u)&&C;if(V=u.g=o,C=F(V,g,!0,u)&&C,C=F(V,g,!1,u)&&C,d)for(G=0;G<d.length;G++)V=u.g=d[G],C=F(V,g,!1,u)&&C}B.prototype.N=function(){if(B.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const d=o.g[u];for(let g=0;g<d.length;g++)pt(d[g]);delete o.g[u],o.h--}}this.G=null},B.prototype.J=function(o,u,d,g){return this.i.add(String(o),u,!1,d,g)},B.prototype.K=function(o,u,d,g){return this.i.add(String(o),u,!0,d,g)};function F(o,u,d,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let C=!0;for(let V=0;V<u.length;++V){const G=u[V];if(G&&!G.da&&G.capture==d){const ht=G.listener,Gt=G.ha||G.src;G.fa&&qe(o.i,G),C=ht.call(Gt,g)!==!1&&C}}return C&&!g.defaultPrevented}function nt(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Q(o){o.g=nt(()=>{o.g=null,o.i&&(o.i=!1,Q(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class et extends b{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(o){b.call(this),this.h=o,this.g={}}p(rt,b);var ft=[];function bt(o){Te(o.g,function(u,d){this.g.hasOwnProperty(d)&&w(u)},o),o.g={}}rt.prototype.N=function(){rt.Z.N.call(this),bt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=a.JSON.stringify,se=a.JSON.parse,ie=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Se(){}function Ce(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rr(){I.call(this,"d")}p(Rr,I);function te(){I.call(this,"c")}p(te,I);var Xt={},fs=null;function nr(){return fs=fs||new B}Xt.Ia="serverreachability";function Mc(o){I.call(this,Xt.Ia,o)}p(Mc,I);function ds(o){const u=nr();U(u,new Mc(u))}Xt.STAT_EVENT="statevent";function Lc(o,u){I.call(this,Xt.STAT_EVENT,o),this.stat=u}p(Lc,I);function pe(o){const u=nr();U(u,new Lc(u,o))}Xt.Ja="timingevent";function Fc(o,u){I.call(this,Xt.Ja,o),this.size=u}p(Fc,I);function ps(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function gs(){this.g=!0}gs.prototype.ua=function(){this.g=!1};function um(o,u,d,g,C,V){o.info(function(){if(o.g)if(V){var G="",ht=V.split("&");for(let Rt=0;Rt<ht.length;Rt++){var Gt=ht[Rt].split("=");if(Gt.length>1){const Yt=Gt[0];Gt=Gt[1];const Je=Yt.split("_");G=Je.length>=2&&Je[1]=="type"?G+(Yt+"="+Gt+"&"):G+(Yt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+u+`
`+d+`
`+G})}function hm(o,u,d,g,C,V,G){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+u+`
`+d+`
`+V+" "+G})}function Sr(o,u,d,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+dm(o,d)+(g?" "+g:"")})}function fm(o,u){o.info(function(){return"TIMEOUT: "+u})}gs.prototype.info=function(){};function dm(o,u){if(!o.g)return u;if(!u)return null;try{const V=JSON.parse(u);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var d=V[o];if(!(d.length<2)){var g=d[1];if(Array.isArray(g)&&!(g.length<1)){var C=g[0];if(C!="noop"&&C!="stop"&&C!="close")for(let G=1;G<g.length;G++)g[G]=""}}}}return Et(V)}catch{return u}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bc;function Go(){}p(Go,Se),Go.prototype.g=function(){return new XMLHttpRequest},Bc=new Go;function ms(o){return encodeURIComponent(String(o))}function pm(o){var u=1;o=o.split(":");const d=[];for(;u>0&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function Sn(o,u,d,g){this.j=o,this.i=u,this.l=d,this.S=g||1,this.V=new rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jc}function jc(){this.i=null,this.g="",this.h=!1}var qc={},Ko={};function Wo(o,u,d){o.M=1,o.A=Ti(Ye(u)),o.u=d,o.R=!0,$c(o,null)}function $c(o,u){o.F=Date.now(),vi(o),o.B=Ye(o.A);var d=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),nu(d.i,"t",g),o.C=0,d=o.j.L,o.h=new jc,o.g=vu(o.j,d?u:null,!o.u),o.P>0&&(o.O=new et(h(o.Y,o,o.g),o.P)),u=o.V,d=o.g,g=o.ba;var C="readystatechange";Array.isArray(C)||(C&&(ft[0]=C.toString()),C=ft);for(let V=0;V<C.length;V++){const G=W(d,C[V],g||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=o.J?Re(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),ds(),um(o.i,o.v,o.B,o.l,o.S,o.u)}Sn.prototype.ba=function(o){o=o.target;const u=this.O;u&&Vn(o)==3?u.j():this.Y(o)},Sn.prototype.Y=function(o){try{if(o==this.g)t:{const ht=Vn(this.g),Gt=this.g.ya(),Rt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||cu(this.g)))){this.K||ht!=4||Gt==7||(Gt==8||Rt<=0?ds(3):ds(2)),Qo(this);var u=this.g.ca();this.X=u;var d=gm(this);if(this.o=u==200,hm(this.i,this.v,this.B,this.l,this.S,ht,u),this.o){if(this.U&&!this.L){e:{if(this.g){var g,C=this.g;if((g=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(g)){var V=g;break e}}V=null}if(o=V)Sr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xo(this,o);else{this.o=!1,this.m=3,pe(12),rr(this),_s(this);break t}}if(this.R){o=!0;let Yt;for(;!this.K&&this.C<d.length;)if(Yt=mm(this,d),Yt==Ko){ht==4&&(this.m=4,pe(14),o=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==qc){this.m=4,pe(15),Sr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Sr(this.i,this.l,Yt,null),Xo(this,Yt);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||d.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)Sr(this.i,this.l,d,"[Invalid Chunked Response]"),rr(this),_s(this);else if(d.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),sa(G),G.P=!0,pe(11))}}else Sr(this.i,this.l,d,null),Xo(this,d);ht==4&&rr(this),this.o&&!this.K&&(ht==4?mu(this.j,this):(this.o=!1,vi(this)))}else Vm(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),rr(this),_s(this)}}}catch{}finally{}};function gm(o){if(!Hc(o))return o.g.la();const u=cu(o.g);if(u==="")return"";let d="";const g=u.length,C=Vn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return rr(o),_s(o),"";o.h.i=new a.TextDecoder}for(let V=0;V<g;V++)o.h.h=!0,d+=o.h.i.decode(u[V],{stream:!(C&&V==g-1)});return u.length=0,o.h.g+=d,o.C=0,o.h.g}function Hc(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function mm(o,u){var d=o.C,g=u.indexOf(`
`,d);return g==-1?Ko:(d=Number(u.substring(d,g)),isNaN(d)?qc:(g+=1,g+d>u.length?Ko:(u=u.slice(g,g+d),o.C=g+d,u)))}Sn.prototype.cancel=function(){this.K=!0,rr(this)};function vi(o){o.T=Date.now()+o.H,zc(o,o.H)}function zc(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ps(h(o.aa,o),u)}function Qo(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Sn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(fm(this.i,this.B),this.M!=2&&(ds(),pe(17)),rr(this),this.m=2,_s(this)):zc(this,this.T-o)};function _s(o){o.j.I==0||o.K||mu(o.j,o)}function rr(o){Qo(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,bt(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function Xo(o,u){try{var d=o.j;if(d.I!=0&&(d.g==o||Yo(d.h,o))){if(!o.L&&Yo(d.h,o)&&d.I==3){try{var g=d.Ba.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Ri(d),Ii(d);else break t;ra(d),pe(18)}}else d.xa=C[1],0<d.xa-d.K&&C[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=ps(h(d.Va,d),6e3));Wc(d.h)<=1&&d.ta&&(d.ta=void 0)}else ir(d,11)}else if((o.L||d.g==o)&&Ri(d),!v(u))for(C=d.Ba.g.parse(u),u=0;u<C.length;u++){let Rt=C[u];const Yt=Rt[0];if(!(Yt<=d.K))if(d.K=Yt,Rt=Rt[1],d.I==2)if(Rt[0]=="c"){d.M=Rt[1],d.ba=Rt[2];const Je=Rt[3];Je!=null&&(d.ka=Je,d.j.info("VER="+d.ka));const or=Rt[4];or!=null&&(d.za=or,d.j.info("SVER="+d.za));const Nn=Rt[5];Nn!=null&&typeof Nn=="number"&&Nn>0&&(g=1.5*Nn,d.O=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Dn=o.g;if(Dn){const Ci=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var V=g.h;V.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Jo(V,V.h),V.h=null))}if(g.G){const ia=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(g.wa=ia,Pt(g.J,g.G,ia))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),g=d;var G=o;if(g.na=Eu(g,g.L?g.ba:null,g.W),G.L){Qc(g.h,G);var ht=G,Gt=g.O;Gt&&(ht.H=Gt),ht.D&&(Qo(ht),vi(ht)),g.g=G}else pu(g);d.i.length>0&&bi(d)}else Rt[0]!="stop"&&Rt[0]!="close"||ir(d,7);else d.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?ir(d,7):na(d):Rt[0]!="noop"&&d.l&&d.l.qa(Rt),d.A=0)}}ds(4)}catch{}}var _m=class{constructor(o,u){this.g=o,this.map=u}};function Gc(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wc(o){return o.h?1:o.g?o.g.size:0}function Yo(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Jo(o,u){o.g?o.g.add(u):o.h=u}function Qc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Gc.prototype.cancel=function(){if(this.i=Xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xc(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const d of o.g.values())u=u.concat(d.G);return u}return y(o.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(o,u){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const g=o[d].indexOf("=");let C,V=null;g>=0?(C=o[d].substring(0,g),V=o[d].substring(g+1)):C=o[d],u(C,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Cn?(this.l=o.l,ys(this,o.j),this.o=o.o,this.g=o.g,Es(this,o.u),this.h=o.h,Zo(this,ru(o.i)),this.m=o.m):o&&(u=String(o).match(Yc))?(this.l=!1,ys(this,u[1]||"",!0),this.o=vs(u[2]||""),this.g=vs(u[3]||"",!0),Es(this,u[4]),this.h=vs(u[5]||"",!0),Zo(this,u[6]||"",!0),this.m=vs(u[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Cn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(Ts(u,Jc,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Ts(u,Jc,!0),"@"),o.push(ms(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ts(d,d.charAt(0)=="/"?Tm:vm,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ts(d,Am)),o.join("")},Cn.prototype.resolve=function(o){const u=Ye(this);let d=!!o.j;d?ys(u,o.j):d=!!o.o,d?u.o=o.o:d=!!o.g,d?u.g=o.g:d=o.u!=null;var g=o.h;if(d)Es(u,o.u);else if(d=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var C=u.h.lastIndexOf("/");C!=-1&&(g=u.h.slice(0,C+1)+g)}if(C=g,C==".."||C==".")g="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){g=C.lastIndexOf("/",0)==0,C=C.split("/");const V=[];for(let G=0;G<C.length;){const ht=C[G++];ht=="."?g&&G==C.length&&V.push(""):ht==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),g&&G==C.length&&V.push("")):(V.push(ht),g=!0)}g=V.join("/")}else g=C}return d?u.h=g:d=o.i.toString()!=="",d?Zo(u,ru(o.i)):d=!!o.m,d&&(u.m=o.m),u};function Ye(o){return new Cn(o)}function ys(o,u,d){o.j=d?vs(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Es(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function Zo(o,u,d){u instanceof ws?(o.i=u,Im(o.i,o.l)):(d||(u=Ts(u,wm)),o.i=new ws(u,o.l))}function Pt(o,u,d){o.i.set(u,d)}function Ti(o){return Pt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function vs(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ts(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Em),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Em(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Jc=/[#\/\?@]/g,vm=/[#\?:]/g,Tm=/[#\?]/g,wm=/[#\?@]/g,Am=/#/g;function ws(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function sr(o){o.g||(o.g=new Map,o.h=0,o.i&&ym(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}e=ws.prototype,e.add=function(o,u){sr(this),this.i=null,o=Cr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function Zc(o,u){sr(o),u=Cr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function tu(o,u){return sr(o),u=Cr(o,u),o.g.has(u)}e.forEach=function(o,u){sr(this),this.g.forEach(function(d,g){d.forEach(function(C){o.call(u,C,g,this)},this)},this)};function eu(o,u){sr(o);let d=[];if(typeof u=="string")tu(o,u)&&(d=d.concat(o.g.get(Cr(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)d=d.concat(o[u]);return d}e.set=function(o,u){return sr(this),this.i=null,o=Cr(this,o),tu(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=eu(this,o),o.length>0?String(o[0]):u):u};function nu(o,u,d){Zc(o,u),d.length>0&&(o.i=null,o.g.set(Cr(o,u),y(d)),o.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let g=0;g<u.length;g++){var d=u[g];const C=ms(d);d=eu(this,d);for(let V=0;V<d.length;V++){let G=C;d[V]!==""&&(G+="="+ms(d[V])),o.push(G)}}return this.i=o.join("&")};function ru(o){const u=new ws;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function Cr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Im(o,u){u&&!o.j&&(sr(o),o.i=null,o.g.forEach(function(d,g){const C=g.toLowerCase();g!=C&&(Zc(this,g),nu(this,C,d))},o)),o.j=u}function bm(o,u){const d=new gs;if(a.Image){const g=new Image;g.onload=f(Pn,d,"TestLoadImage: loaded",!0,u,g),g.onerror=f(Pn,d,"TestLoadImage: error",!1,u,g),g.onabort=f(Pn,d,"TestLoadImage: abort",!1,u,g),g.ontimeout=f(Pn,d,"TestLoadImage: timeout",!1,u,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function Rm(o,u){const d=new gs,g=new AbortController,C=setTimeout(()=>{g.abort(),Pn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(C),V.ok?Pn(d,"TestPingServer: ok",!0,u):Pn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),Pn(d,"TestPingServer: error",!1,u)})}function Pn(o,u,d,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(d)}catch{}}function Sm(){this.g=new ie}function ta(o){this.i=o.Sb||null,this.h=o.ab||!1}p(ta,Se),ta.prototype.g=function(){return new wi(this.i,this.h)};function wi(o,u){B.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(wi,B),e=wi.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,Is(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;su(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function su(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?As(this):Is(this),this.readyState==3&&su(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,As(this))},e.Na=function(o){this.g&&(this.response=o,As(this))},e.ga=function(){this.g&&As(this)};function As(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Is(o)}e.setRequestHeader=function(o,u){this.A.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Is(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function iu(o){let u="";return Te(o,function(d,g){u+=g,u+=":",u+=d,u+=`\r
`}),u}function ea(o,u,d){t:{for(g in d){var g=!1;break t}g=!0}g||(d=iu(d),typeof o=="string"?d!=null&&ms(d):Pt(o,u,d))}function kt(o){B.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(kt,B);var Cm=/^https?$/i,Pm=["POST","PUT"];e=kt.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,u,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bc.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(V){ou(this,V);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)d.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())d.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),C=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(Pm,u,void 0)>=0)||g||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of d)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){ou(this,V)}};function ou(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,au(o),Ai(o)}function au(o){o.A||(o.A=!0,U(o,"complete"),U(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,U(this,"complete"),U(this,"abort"),Ai(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),kt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?lu(this):this.Xa())},e.Xa=function(){lu(this)};function lu(o){if(o.h&&typeof i<"u"){if(o.v&&Vn(o)==4)setTimeout(o.Ca.bind(o),0);else if(U(o,"readystatechange"),Vn(o)==4){o.h=!1;try{const V=o.ca();t:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var d;if(!(d=u)){var g;if(g=V===0){let G=String(o.D).match(Yc)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),g=!Cm.test(G?G.toLowerCase():"")}d=g}if(d)U(o,"complete"),U(o,"success");else{o.o=6;try{var C=Vn(o)>2?o.g.statusText:""}catch{C=""}o.l=C+" ["+o.ca()+"]",au(o)}}finally{Ai(o)}}}}function Ai(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,u||U(o,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Vn(o){return o.g?o.g.readyState:0}e.ca=function(){try{return Vn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),se(u)}};function cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Vm(o){const u={};o=(o.g&&Vn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(v(o[g]))continue;var d=pm(o[g]);const C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=u[C]||[];u[C]=V,V.push(d)}Xe(u,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function uu(o){this.za=0,this.i=[],this.j=new gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,o),this.Za=bs("retryDelaySeedMs",1e4,o),this.Ta=bs("forwardChannelMaxRetries",2,o),this.va=bs("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Gc(o&&o.concurrentRequestLimit),this.Ba=new Sm,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=uu.prototype,e.ka=8,e.I=1,e.connect=function(o,u,d,g){pe(0),this.W=o,this.H=u||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.J=Eu(this,null,this.W),bi(this)};function na(o){if(hu(o),o.I==3){var u=o.V++,d=Ye(o.J);if(Pt(d,"SID",o.M),Pt(d,"RID",u),Pt(d,"TYPE","terminate"),Rs(o,d),u=new Sn(o,o.j,u),u.M=2,u.A=Ti(Ye(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=u.A,d=!0),d||(u.g=vu(u.j,null),u.g.ea(u.A)),u.F=Date.now(),vi(u)}yu(o)}function Ii(o){o.g&&(sa(o),o.g.cancel(),o.g=null)}function hu(o){Ii(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ri(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function bi(o){if(!Kc(o.h)&&!o.m){o.m=!0;var u=o.Ea;it||E(),ct||(it(),ct=!0),A.add(u,o),o.D=0}}function Nm(o,u){return Wc(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ps(h(o.Ea,o,u),_u(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const C=new Sn(this,this.j,o);let V=this.o;if(this.U&&(V?(V=Re(V),pn(V,this.U)):V=this.U),this.u!==null||this.R||(C.J=V,V=null),this.S)t:{for(var u=0,d=0;d<this.i.length;d++){e:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(u+=g,u>4096){u=d;break t}if(u===4096||d===this.i.length-1){u=d+1;break t}}u=1e3}else u=1e3;u=du(this,C,u),d=Ye(this.J),Pt(d,"RID",o),Pt(d,"CVER",22),this.G&&Pt(d,"X-HTTP-Session-Id",this.G),Rs(this,d),V&&(this.R?u="headers="+ms(iu(V))+"&"+u:this.u&&ea(d,this.u,V)),Jo(this.h,C),this.Ra&&Pt(d,"TYPE","init"),this.S?(Pt(d,"$req",u),Pt(d,"SID","null"),C.U=!0,Wo(C,d,null)):Wo(C,d,u),this.I=2}}else this.I==3&&(o?fu(this,o):this.i.length==0||Kc(this.h)||fu(this))};function fu(o,u){var d;u?d=u.l:d=o.V++;const g=Ye(o.J);Pt(g,"SID",o.M),Pt(g,"RID",d),Pt(g,"AID",o.K),Rs(o,g),o.u&&o.o&&ea(g,o.u,o.o),d=new Sn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),u&&(o.i=u.G.concat(o.i)),u=du(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Jo(o.h,d),Wo(d,g,u)}function Rs(o,u){o.H&&Te(o.H,function(d,g){Pt(u,g,d)}),o.l&&Te({},function(d,g){Pt(u,g,d)})}function du(o,u,d){d=Math.min(o.i.length,d);const g=o.l?h(o.l.Ka,o.l,o):null;t:{var C=o.i;let ht=-1;for(;;){const Gt=["count="+d];ht==-1?d>0?(ht=C[0].g,Gt.push("ofs="+ht)):ht=0:Gt.push("ofs="+ht);let Rt=!0;for(let Yt=0;Yt<d;Yt++){var V=C[Yt].g;const Je=C[Yt].map;if(V-=ht,V<0)ht=Math.max(0,C[Yt].g-100),Rt=!1;else try{V="req"+V+"_"||"";try{var G=Je instanceof Map?Je:Object.entries(Je);for(const[or,Nn]of G){let Dn=Nn;l(Nn)&&(Dn=Et(Nn)),Gt.push(V+or+"="+encodeURIComponent(Dn))}}catch(or){throw Gt.push(V+"type="+encodeURIComponent("_badmap")),or}}catch{g&&g(Je)}}if(Rt){G=Gt.join("&");break t}}G=void 0}return o=o.i.splice(0,d),u.G=o,G}function pu(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;it||E(),ct||(it(),ct=!0),A.add(u,o),o.A=0}}function ra(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ps(h(o.Da,o),_u(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ps(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Ii(this),gu(this))};function sa(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function gu(o){o.g=new Sn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Ye(o.na);Pt(u,"RID","rpc"),Pt(u,"SID",o.M),Pt(u,"AID",o.K),Pt(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&Pt(u,"TO",o.ia),Pt(u,"TYPE","xmlhttp"),Rs(o,u),o.u&&o.o&&ea(u,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Ti(Ye(u)),d.u=null,d.R=!0,$c(d,o)}e.Va=function(){this.C!=null&&(this.C=null,Ii(this),ra(this),pe(19))};function Ri(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function mu(o,u){var d=null;if(o.g==u){Ri(o),sa(o),o.g=null;var g=2}else if(Yo(o.h,u))d=u.G,Qc(o.h,u),g=1;else return;if(o.I!=0){if(u.o)if(g==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var C=o.D;g=nr(),U(g,new Fc(g,d)),bi(o)}else pu(o);else if(C=u.m,C==3||C==0&&u.X>0||!(g==1&&Nm(o,u)||g==2&&ra(o)))switch(d&&d.length>0&&(u=o.h,u.i=u.i.concat(d)),C){case 1:ir(o,5);break;case 4:ir(o,10);break;case 3:ir(o,6);break;default:ir(o,2)}}}function _u(o,u){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*u}function ir(o,u){if(o.j.info("Error code "+u),u==2){var d=h(o.bb,o),g=o.Ua;const C=!g;g=new Cn(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ys(g,"https"),Ti(g),C?bm(g.toString(),d):Rm(g.toString(),d)}else pe(2);o.I=0,o.l&&o.l.pa(u),yu(o),hu(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function yu(o){if(o.I=0,o.ja=[],o.l){const u=Xc(o.h);(u.length!=0||o.i.length!=0)&&(P(o.ja,u),P(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Eu(o,u,d){var g=d instanceof Cn?Ye(d):new Cn(d);if(g.g!="")u&&(g.g=u+"."+g.g),Es(g,g.u);else{var C=a.location;g=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;const V=new Cn(null);g&&ys(V,g),u&&(V.g=u),C&&Es(V,C),d&&(V.h=d),g=V}return d=o.G,u=o.wa,d&&u&&Pt(g,d,u),Pt(g,"VER",o.ka),Rs(o,g),g}function vu(o,u,d){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new kt(new ta({ab:d})):new kt(o.ma),u.Fa(o.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}e=Tu.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Si(){}Si.prototype.g=function(o,u){return new Pe(o,u)};function Pe(o,u){B.call(this),this.g=new uu(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!v(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!v(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Pr(this)}p(Pe,B),Pe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){na(this.g)},Pe.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Et(o),o=d);u.i.push(new _m(u.Ya++,o)),u.I==3&&bi(u)},Pe.prototype.N=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Pe.Z.N.call(this)};function wu(o){Rr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const d in u){o=d;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(wu,Rr);function Au(){te.call(this),this.status=1}p(Au,te);function Pr(o){this.g=o}p(Pr,Tu),Pr.prototype.ra=function(){U(this.g,"a")},Pr.prototype.qa=function(o){U(this.g,new wu(o))},Pr.prototype.pa=function(o){U(this.g,new Au)},Pr.prototype.oa=function(){U(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,bp=function(){return new Si},Ip=function(){return nr()},Ap=Xt,nl={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,Gi=Ei,Uc.COMPLETE="complete",wp=Uc,Ce.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",B.prototype.listen=B.prototype.J,Os=Ce,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,Tp=kt}).apply(typeof Di<"u"?Di:typeof self<"u"?self:typeof window<"u"?window:{});const Ph="@firebase/firestore",Vh="4.9.2";class ae{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ae.UNAUTHENTICATED=new ae(null),ae.GOOGLE_CREDENTIALS=new ae("google-credentials-uid"),ae.FIRST_PARTY=new ae("first-party-uid"),ae.MOCK_USER=new ae("mock-user");let as="12.3.0";const vr=new dp("@firebase/firestore");function kr(){return vr.logLevel}function Y(e,...t){if(vr.logLevel<=_t.DEBUG){const n=t.map(Yl);vr.debug(`Firestore (${as}): ${e}`,...n)}}function bn(e,...t){if(vr.logLevel<=_t.ERROR){const n=t.map(Yl);vr.error(`Firestore (${as}): ${e}`,...n)}}function Zr(e,...t){if(vr.logLevel<=_t.WARN){const n=t.map(Yl);vr.warn(`Firestore (${as}): ${e}`,...n)}}function Yl(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function at(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Rp(e,r,n)}function Rp(e,t,n){let r=`FIRESTORE (${as}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bn(r),new Error(r)}function xt(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Rp(t,s,r)}function yt(e,t){return e}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Sp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ae.UNAUTHENTICATED)))}shutdown(){}}class MT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LT{constructor(t){this.t=t,this.currentUser=ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $r,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $r)}}),0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new Sp(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xt(t===null||typeof t=="string",2055,{h:t}),new ae(t)}}class FT{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=ae.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UT{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new FT(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ae.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ql(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xt(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nh(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nh(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Cp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function gt(e,t){return e<t?-1:e>t?1:0}function rl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return Sa(s)===Sa(i)?gt(s,i):Sa(s)?1:-1}return gt(e.length,t.length)}const qT=55296,$T=57343;function Sa(e){const t=e.charCodeAt(0);return t>=qT&&t<=$T}function ts(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const Dh="__name__";class en{constructor(t,n,r){n===void 0?n=0:n>t.length&&at(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&at(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return en.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof en?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=en.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return gt(t.length,n.length)}static compareSegments(t,n){const r=en.isNumericId(t),s=en.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?en.extractNumericId(t).compare(en.extractNumericId(n)):rl(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hn.fromString(t.substring(4,t.length-2))}}class Nt extends en{construct(t,n,r){return new Nt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const HT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends en{construct(t,n,r){return new ue(t,n,r)}static isValidIdentifier(t){return HT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dh}static keyField(){return new ue([Dh])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ue(n)}static emptyPath(){return new ue([])}}class st{constructor(t){this.path=t}static fromPath(t){return new st(Nt.fromString(t))}static fromName(t){return new st(Nt.fromString(t).popFirst(5))}static empty(){return new st(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Nt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Nt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new Nt(t.slice()))}}function zT(e,t,n,r){if(t===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Oh(e){if(st.isDocumentKey(e))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pp(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xo(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at(12329,{type:typeof e})}function Ki(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xo(e);throw new J(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ht(e,t){const n={typeString:e};return t&&(n.value=t),n}function di(e,t){if(!Pp(e))throw new J(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(H.INVALID_ARGUMENT,n);return!0}const xh=-62135596800,kh=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(t){return Dt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*kh);return new Dt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<xh)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kh}_compareTo(t){return this.seconds===t.seconds?gt(this.nanoseconds,t.nanoseconds):gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(di(t,Dt._jsonSchema))return new Dt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xh;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Ht("string",Dt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class ot{static fromTimestamp(t){return new ot(t)}static min(){return new ot(new Dt(0,0))}static max(){return new ot(new Dt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ii=-1;function GT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ot.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Wn(s,st.empty(),t)}function KT(e){return new Wn(e.readTime,e.key,ii)}class Wn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(ot.min(),st.empty(),ii)}static max(){return new Wn(ot.max(),st.empty(),ii)}}function WT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=st.comparator(e.documentKey,t.documentKey),n!==0?n:gt(e.largestBatchId,t.largestBatchId))}const QT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ko(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==QT)throw e;Y("LocalStore","Unexpectedly lost primary lease")}class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):M.reject(n)}static resolve(t){return new M(((n,r)=>{n(t)}))}static reject(t){return new M(((n,r)=>{r(t)}))}static waitFor(t){return new M(((n,r)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next((s=>s?M.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new M(((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(t[h]).next((f=>{a[h]=f,++l,l===i&&r(a)}),(f=>s(f)))}}))}static doWhile(t,n){return new M(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function YT(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ls(e){return e.name==="IndexedDbTransactionError"}class Mo{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Mo.ce=-1;const JT=-1;function Lo(e){return e==null}function co(e){return e===0&&1/e==-1/0}function ZT(e){return typeof e=="number"&&Number.isInteger(e)&&!co(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Vp="";function tw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Mh(t)),t=ew(e.get(n),t);return Mh(t)}function ew(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Vp:n+="";break;default:n+=i}}return n}function Mh(e){return e+Vp+""}function Lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Np(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ut{constructor(t,n){this.comparator=t,this.root=n||ee.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ee.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oi(this.root,t,this.comparator,!0)}}class Oi{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ee{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??ee.RED,this.left=s??ee.EMPTY,this.right=i??ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new ee(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return ee.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw at(27949);return t+(this.isRed()?0:1)}}ee.EMPTY=null,ee.RED=!0,ee.BLACK=!1;ee.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fh(this.data.getIterator())}getIteratorFrom(t){return new Fh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Qt(this.comparator);return n.data=t,n}}class Fh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(t){this.fields=t,t.sort(ue.comparator)}static empty(){return new Un([])}unionWith(t){let n=new Qt(ue.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ts(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Dp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ne{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Dp("Invalid base64 string: "+i):i}})(t);return new ne(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new ne(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ne.EMPTY_BYTE_STRING=new ne("");const nw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(e){if(xt(!!e,39018),typeof e=="string"){let t=0;const n=nw.exec(e);if(xt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ft(e.seconds),nanos:Ft(e.nanos)}}function Ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xn(e){return typeof e=="string"?ne.fromBase64String(e):ne.fromUint8Array(e)}const Op="server_timestamp",xp="__type__",kp="__previous_value__",Mp="__local_write_time__";function Jl(e){return(e?.mapValue?.fields||{})[xp]?.stringValue===Op}function Fo(e){const t=e.mapValue.fields[kp];return Jl(t)?Fo(t):t}function oi(e){const t=Qn(e.mapValue.fields[Mp].timestampValue);return new Dt(t.seconds,t.nanos)}class rw{constructor(t,n,r,s,i,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const uo="(default)";class ai{constructor(t,n){this.projectId=t,this.database=n||uo}static empty(){return new ai("","")}get isDefaultDatabase(){return this.database===uo}isEqual(t){return t instanceof ai&&t.projectId===this.projectId&&t.database===this.database}}const Lp="__type__",sw="__max__",xi={mapValue:{}},Fp="__vector__",ho="value";function Yn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jl(e)?4:ow(e)?9007199254740991:iw(e)?10:11:at(28295,{value:e})}function dn(e,t){if(e===t)return!0;const n=Yn(e);if(n!==Yn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oi(e).isEqual(oi(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Qn(s.timestampValue),l=Qn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return Xn(s.bytesValue).isEqual(Xn(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return Ft(s.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ft(s.integerValue)===Ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ft(s.doubleValue),l=Ft(i.doubleValue);return a===l?co(a)===co(l):isNaN(a)&&isNaN(l)}return!1})(e,t);case 9:return ts(e.arrayValue.values||[],t.arrayValue.values||[],dn);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Lh(a)!==Lh(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!dn(a[c],l[c])))return!1;return!0})(e,t);default:return at(52216,{left:e})}}function li(e,t){return(e.values||[]).find((n=>dn(n,t)))!==void 0}function es(e,t){if(e===t)return 0;const n=Yn(e),r=Yn(t);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(e.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=Ft(i.integerValue||i.doubleValue),c=Ft(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return Uh(e.timestampValue,t.timestampValue);case 4:return Uh(oi(e),oi(t));case 5:return rl(e.stringValue,t.stringValue);case 6:return(function(i,a){const l=Xn(i),c=Xn(a);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=gt(l[h],c[h]);if(f!==0)return f}return gt(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=gt(Ft(i.latitude),Ft(a.latitude));return l!==0?l:gt(Ft(i.longitude),Ft(a.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Bh(e.arrayValue,t.arrayValue);case 10:return(function(i,a){const l=i.fields||{},c=a.fields||{},h=l[ho]?.arrayValue,f=c[ho]?.arrayValue,p=gt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:Bh(h,f)})(e.mapValue,t.mapValue);case 11:return(function(i,a){if(i===xi.mapValue&&a===xi.mapValue)return 0;if(i===xi.mapValue)return 1;if(a===xi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=rl(c[p],f[p]);if(m!==0)return m;const y=es(l[c[p]],h[f[p]]);if(y!==0)return y}return gt(c.length,f.length)})(e.mapValue,t.mapValue);default:throw at(23264,{he:n})}}function Uh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gt(e,t);const n=Qn(e),r=Qn(t),s=gt(n.seconds,r.seconds);return s!==0?s:gt(n.nanos,r.nanos)}function Bh(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=es(n[s],r[s]);if(i)return i}return gt(n.length,r.length)}function ns(e){return sl(e)}function sl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Qn(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Xn(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return st.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sl(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${sl(n.fields[a])}`;return s+"}"})(e.mapValue):at(61005,{value:e})}function Wi(e){switch(Yn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fo(e);return t?16+Wi(t):16;case 5:return 2*e.stringValue.length;case 6:return Xn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Wi(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return cs(r.fields,((i,a)=>{s+=i.length+Wi(a)})),s})(e.mapValue);default:throw at(13486,{value:e})}}function jh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function il(e){return!!e&&"integerValue"in e}function Zl(e){return!!e&&"arrayValue"in e}function qh(e){return!!e&&"nullValue"in e}function $h(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ca(e){return!!e&&"mapValue"in e}function iw(e){return(e?.mapValue?.fields||{})[Lp]?.stringValue===Fp}function Gs(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return cs(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Gs(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gs(e.arrayValue.values[n]);return t}return{...e}}function ow(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===sw}class rn{constructor(t){this.value=t}static empty(){return new rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ca(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gs(n)}setAll(t){let n=ue.emptyPath(),r={},s=[];t.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Gs(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Ca(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){cs(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new rn(Gs(this.value))}}class ce{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ce(t,0,ot.min(),ot.min(),ot.min(),rn.empty(),0)}static newFoundDocument(t,n,r,s){return new ce(t,1,n,ot.min(),r,s,0)}static newNoDocument(t,n){return new ce(t,2,n,ot.min(),ot.min(),rn.empty(),0)}static newUnknownDocument(t,n){return new ce(t,3,n,ot.min(),ot.min(),rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fo{constructor(t,n){this.position=t,this.inclusive=n}}function Hh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=st.comparator(st.fromName(a.referenceValue),n.key):r=es(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dn(e.position[n],t.position[n]))return!1;return!0}class ci{constructor(t,n="asc"){this.field=t,this.dir=n}}function aw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Up{}class $t extends Up{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new cw(t,n,r):n==="array-contains"?new fw(t,r):n==="in"?new dw(t,r):n==="not-in"?new pw(t,r):n==="array-contains-any"?new gw(t,r):new $t(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uw(t,r):new hw(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(es(n,this.value)):n!==null&&Yn(this.value)===Yn(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qe extends Up{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Qe(t,n)}matches(t){return Bp(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bp(e){return e.op==="and"}function jp(e){return lw(e)&&Bp(e)}function lw(e){for(const t of e.filters)if(t instanceof Qe)return!1;return!0}function ol(e){if(e instanceof $t)return e.field.canonicalString()+e.op.toString()+ns(e.value);if(jp(e))return e.filters.map((t=>ol(t))).join(",");{const t=e.filters.map((n=>ol(n))).join(",");return`${e.op}(${t})`}}function qp(e,t){return e instanceof $t?(function(r,s){return s instanceof $t&&r.op===s.op&&r.field.isEqual(s.field)&&dn(r.value,s.value)})(e,t):e instanceof Qe?(function(r,s){return s instanceof Qe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,l)=>i&&qp(a,s.filters[l])),!0):!1})(e,t):void at(19439)}function $p(e){return e instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${ns(n.value)}`})(e):e instanceof Qe?(function(n){return n.op.toString()+" {"+n.getFilters().map($p).join(" ,")+"}"})(e):"Filter"}class cw extends $t{constructor(t,n,r){super(t,n,r),this.key=st.fromName(r.referenceValue)}matches(t){const n=st.comparator(t.key,this.key);return this.matchesComparison(n)}}class uw extends $t{constructor(t,n){super(t,"in",n),this.keys=Hp("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class hw extends $t{constructor(t,n){super(t,"not-in",n),this.keys=Hp("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Hp(e,t){return(t.arrayValue?.values||[]).map((n=>st.fromName(n.referenceValue)))}class fw extends $t{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Zl(n)&&li(n.arrayValue,this.value)}}class dw extends $t{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&li(this.value.arrayValue,n)}}class pw extends $t{constructor(t,n){super(t,"not-in",n)}matches(t){if(li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!li(this.value.arrayValue,n)}}class gw extends $t{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Zl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>li(this.value.arrayValue,r)))}}class mw{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Gh(e,t=null,n=[],r=[],s=null,i=null,a=null){return new mw(e,t,n,r,s,i,a)}function tc(e){const t=yt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ol(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Lo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ns(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ns(r))).join(",")),t.Te=n}return t.Te}function ec(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zh(e.startAt,t.startAt)&&zh(e.endAt,t.endAt)}function al(e){return st.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class us{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _w(e,t,n,r,s,i,a,l){return new us(e,t,n,r,s,i,a,l)}function nc(e){return new us(e)}function Kh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zp(e){return e.collectionGroup!==null}function Ks(e){const t=yt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Qt(ue.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new ci(i,r))})),n.has(ue.keyField().canonicalString())||t.Ie.push(new ci(ue.keyField(),r))}return t.Ie}function cn(e){const t=yt(e);return t.Ee||(t.Ee=yw(t,Ks(e))),t.Ee}function yw(e,t){if(e.limitType==="F")return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new ci(s.field,i)}));const n=e.endAt?new fo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fo(e.startAt.position,e.startAt.inclusive):null;return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ll(e,t){const n=e.filters.concat([t]);return new us(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cl(e,t,n){return new us(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uo(e,t){return ec(cn(e),cn(t))&&e.limitType===t.limitType}function Gp(e){return`${tc(cn(e))}|lt:${e.limitType}`}function Mr(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>$p(s))).join(", ")}]`),Lo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ns(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ns(s))).join(",")),`Target(${r})`})(cn(e))}; limitType=${e.limitType})`}function Bo(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):st.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of Ks(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(a,l,c){const h=Hh(a,l,c);return a.inclusive?h<=0:h<0})(r.startAt,Ks(r),s)||r.endAt&&!(function(a,l,c){const h=Hh(a,l,c);return a.inclusive?h>=0:h>0})(r.endAt,Ks(r),s))})(e,t)}function Ew(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kp(e){return(t,n)=>{let r=!1;for(const s of Ks(e)){const i=vw(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function vw(e,t,n){const r=e.field.isKeyField()?st.comparator(t.key,n.key):(function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?es(c,h):at(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:e.dir})}}class Ir{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return Np(this.inner)}size(){return this.innerSize}}const Tw=new Ut(st.comparator);function Jn(){return Tw}const Wp=new Ut(st.comparator);function xs(...e){let t=Wp;for(const n of e)t=t.insert(n.key,n);return t}function ww(e){let t=Wp;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function fr(){return Ws()}function Qp(){return Ws()}function Ws(){return new Ir((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Aw=new Qt(st.comparator);function vt(...e){let t=Aw;for(const n of e)t=t.add(n);return t}const Iw=new Qt(gt);function bw(){return Iw}function rc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:co(t)?"-0":t}}function Xp(e){return{integerValue:""+e}}function Rw(e,t){return ZT(t)?Xp(t):rc(e,t)}class jo{constructor(){this._=void 0}}function Sw(e,t,n){return e instanceof ul?(function(s,i){const a={fields:{[xp]:{stringValue:Op},[Mp]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Jl(i)&&(i=Fo(i)),i&&(a.fields[kp]=i),{mapValue:a}})(n,t):e instanceof po?Yp(e,t):e instanceof go?Jp(e,t):(function(s,i){const a=Pw(s,i),l=Wh(a)+Wh(s.Ae);return il(a)&&il(s.Ae)?Xp(l):rc(s.serializer,l)})(e,t)}function Cw(e,t,n){return e instanceof po?Yp(e,t):e instanceof go?Jp(e,t):n}function Pw(e,t){return e instanceof hl?(function(r){return il(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class ul extends jo{}class po extends jo{constructor(t){super(),this.elements=t}}function Yp(e,t){const n=Zp(t);for(const r of e.elements)n.some((s=>dn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class go extends jo{constructor(t){super(),this.elements=t}}function Jp(e,t){let n=Zp(t);for(const r of e.elements)n=n.filter((s=>!dn(s,r)));return{arrayValue:{values:n}}}class hl extends jo{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Wh(e){return Ft(e.integerValue||e.doubleValue)}function Zp(e){return Zl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Vw(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof po&&s instanceof po||r instanceof go&&s instanceof go?ts(r.elements,s.elements,dn):r instanceof hl&&s instanceof hl?dn(r.Ae,s.Ae):r instanceof ul&&s instanceof ul})(e.transform,t.transform)}class mr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mr}static exists(t){return new mr(void 0,t)}static updateTime(t){return new mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class sc{}function tg(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Dw(e.key,mr.none()):new ic(e.key,e.data,mr.none());{const n=e.data,r=rn.empty();let s=new Qt(ue.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qo(e.key,r,new Un(s.toArray()),mr.none())}}function Nw(e,t,n){e instanceof ic?(function(s,i,a){const l=s.value.clone(),c=Xh(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(e,t,n):e instanceof qo?(function(s,i,a){if(!Qi(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Xh(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(eg(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,n)}function Qs(e,t,n,r){return e instanceof ic?(function(i,a,l,c){if(!Qi(i.precondition,a))return l;const h=i.value.clone(),f=Yh(i.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(e,t,n,r):e instanceof qo?(function(i,a,l,c){if(!Qi(i.precondition,a))return l;const h=Yh(i.fieldTransforms,c,a),f=a.data;return f.setAll(eg(i)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(e,t,n,r):(function(i,a,l){return Qi(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(e,t,n)}function Qh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ts(r,s,((i,a)=>Vw(i,a)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ic extends sc{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qo extends sc{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function eg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Xh(e,t,n){const r=new Map;xt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,Cw(a,l,n[s]))}return r}function Yh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Sw(i,a,t))}return r}class Dw extends sc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&Nw(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Qs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Qs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Qp();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=tg(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),vt())}isEqual(t){return this.batchId===t.batchId&&ts(this.mutations,t.mutations,((n,r)=>Qh(n,r)))&&ts(this.baseMutations,t.baseMutations,((n,r)=>Qh(n,r)))}}class xw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kw{constructor(t,n){this.count=t,this.unchangedNames=n}}var qt,mt;function ng(e){if(e===void 0)return bn("GRPC error has no .code"),H.UNKNOWN;switch(e){case qt.OK:return H.OK;case qt.CANCELLED:return H.CANCELLED;case qt.UNKNOWN:return H.UNKNOWN;case qt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case qt.INTERNAL:return H.INTERNAL;case qt.UNAVAILABLE:return H.UNAVAILABLE;case qt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case qt.NOT_FOUND:return H.NOT_FOUND;case qt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case qt.ABORTED:return H.ABORTED;case qt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case qt.DATA_LOSS:return H.DATA_LOSS;default:return at(39323,{code:e})}}(mt=qt||(qt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";function Mw(){return new TextEncoder}const Lw=new Hn([4294967295,4294967295],0);function Jh(e){const t=Mw().encode(e),n=new vp;return n.update(t),new Uint8Array(n.digest())}function Zh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Hn([n,r],0),new Hn([s,i],0)]}class oc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(r<0)throw new ks(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Hn.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(Hn.fromNumber(r)));return s.compare(Lw)===1&&(s=new Hn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jh(t),[r,s]=Zh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new oc(i,s,n);return r.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const n=Jh(t),[r,s]=Zh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $o{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,pi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new $o(ot.min(),s,new Ut(gt),Jn(),vt())}}class pi{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new pi(r,n,vt(),vt(),vt())}}class Xi{constructor(t,n,r,s){this.be=t,this.removedTargetIds=n,this.key=r,this.De=s}}class rg{constructor(t,n){this.targetId=t,this.Ce=n}}class sg{constructor(t,n,r=ne.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class tf{constructor(){this.ve=0,this.Fe=ef(),this.Me=ne.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=vt(),n=vt(),r=vt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:at(38017,{changeType:i})}})),new pi(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=ef()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Jn(),this.Je=ki(),this.He=ki(),this.Ye=new Ut(gt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:at(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(al(i))if(r===0){const a=new st(i.path);this.et(n,a,ce.newNoDocument(a,ot.min()))}else xt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Xn(r).toUint8Array()}catch(c){if(c instanceof Dp)return Zr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new oc(a,s,i)}catch(c){return Zr(c instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&al(l.target)){const c=new st(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,ce.newNoDocument(c,t))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=vt();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new $o(t,n,this.Ye,this.je,r);return this.je=Jn(),this.Je=ki(),this.He=ki(),this.Ye=new Ut(gt),s}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new tf,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Qt(gt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Qt(gt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tf),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ki(){return new Ut(st.comparator)}function ef(){return new Ut(st.comparator)}const Uw={asc:"ASCENDING",desc:"DESCENDING"},Bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jw={and:"AND",or:"OR"};class qw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fl(e,t){return e.useProto3Json||Lo(t)?t:{value:t}}function dl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ig(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hr(e){return xt(!!e,49232),ot.fromTimestamp((function(n){const r=Qn(n);return new Dt(r.seconds,r.nanos)})(e))}function og(e,t){return pl(e,t).canonicalString()}function pl(e,t){const n=(function(s){return new Nt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function ag(e){const t=Nt.fromString(e);return xt(fg(t),10190,{key:t.toString()}),t}function Pa(e,t){const n=ag(t);if(n.get(1)!==e.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new st(cg(n))}function lg(e,t){return og(e.databaseId,t)}function $w(e){const t=ag(e);return t.length===4?Nt.emptyPath():cg(t)}function nf(e){return new Nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cg(e){return xt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Hw(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:at(39313,{state:h})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(h,f){return h.useProto3Json?(xt(f===void 0||typeof f=="string",58123),ne.fromBase64String(f||"")):(xt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ne.fromUint8Array(f||new Uint8Array))})(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(h){const f=h.code===void 0?H.UNKNOWN:ng(h.code);return new J(f,h.message||"")})(a);n=new sg(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pa(e,r.document.name),i=Hr(r.document.updateTime),a=r.document.createTime?Hr(r.document.createTime):ot.min(),l=new rn({mapValue:{fields:r.document.fields}}),c=ce.newFoundDocument(s,i,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Xi(h,f,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Pa(e,r.document),i=r.readTime?Hr(r.readTime):ot.min(),a=ce.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Xi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Pa(e,r.document),i=r.removedTargetIds||[];n=new Xi([],i,s,null)}else{if(!("filter"in t))return at(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new kw(s,i),l=r.targetId;n=new rg(l,a)}}return n}function zw(e,t){return{documents:[lg(e,t.path)]}}function Gw(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lg(e,s);const i=(function(h){if(h.length!==0)return hg(Qe.create(h,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((f=>(function(m){return{field:Lr(m.field),direction:Qw(m.dir)}})(f)))})(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=fl(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(t.endAt)),{ft:n,parent:s}}function Kw(e){let t=$w(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xt(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const m=ug(p);return m instanceof Qe&&jp(m)?m.getFilters():[m]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((m=>(function(P){return new ci(Fr(P.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let m;return m=typeof p=="object"?p.value:p,Lo(m)?null:m})(n.limit));let c=null;n.startAt&&(c=(function(p){const m=!!p.before,y=p.values||[];return new fo(y,m)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const m=!p.before,y=p.values||[];return new fo(y,m)})(n.endAt)),_w(t,s,a,i,l,"F",c,h)}function Ww(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ug(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fr(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fr(n.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fr(n.unaryFilter.field);return $t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Fr(n.unaryFilter.field);return $t.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(e):e.fieldFilter!==void 0?(function(n){return $t.create(Fr(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Qe.create(n.compositeFilter.filters.map((r=>ug(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(n.compositeFilter.op))})(e):at(30097,{filter:e})}function Qw(e){return Uw[e]}function Xw(e){return Bw[e]}function Yw(e){return jw[e]}function Lr(e){return{fieldPath:e.canonicalString()}}function Fr(e){return ue.fromServerFormat(e.fieldPath)}function hg(e){return e instanceof $t?(function(n){if(n.op==="=="){if($h(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NAN"}};if(qh(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($h(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NAN"}};if(qh(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lr(n.field),op:Xw(n.op),value:n.value}}})(e):e instanceof Qe?(function(n){const r=n.getFilters().map((s=>hg(s)));return r.length===1?r[0]:{compositeFilter:{op:Yw(n.op),filters:r}}})(e):at(54877,{filter:e})}function fg(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Bn{constructor(t,n,r,s,i=ot.min(),a=ot.min(),l=ne.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Bn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Jw{constructor(t){this.yt=t}}function Zw(e){const t=Kw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cl(t,t.limit,"L"):t}class tA{constructor(){this.Cn=new eA}addToCollectionParentIndex(t,n){return this.Cn.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(Wn.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(Wn.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class eA{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Qt(Nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Qt(Nt.comparator)).toArray()}}const rf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dg=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(dg,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);class rs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new rs(0)}static cr(){return new rs(-1)}}const sf="LruGarbageCollector",nA=1048576;function of([e,t],[n,r]){const s=gt(e,n);return s===0?gt(t,r):s}class rA{constructor(t){this.Ir=t,this.buffer=new Qt(of),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();of(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sA{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Y(sf,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ls(n)?Y(sf,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)}))}}class iA{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return M.resolve(Mo.ce);const r=new rA(n);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(rf)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rf):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,s,i,a,l,c,h;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(t,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((p=>(h=Date.now(),kr()<=_t.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function oA(e,t){return new iA(e,t)}class aA{constructor(){this.changes=new Ir((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ce.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class cA{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&Qs(r.mutation,s,Un.empty(),Dt.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,vt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=vt()){const s=fr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let a=xs();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,n){const r=fr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,vt())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(t,n,r,s){let i=Jn();const a=Ws(),l=(function(){return Ws()})();return n.forEach(((c,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof qo)?i=i.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Qs(f.mutation,h,f.mutation.getFieldMask(),Dt.now())):a.set(h.key,Un.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((h,f)=>a.set(h,f))),n.forEach(((h,f)=>l.set(h,new lA(f,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=Ws();let s=new Ut(((a,l)=>a-l)),i=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Un.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(s.get(l.batchId)||vt()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=Qp();f.forEach((m=>{if(!i.has(m)){const y=tg(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}})),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return M.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return(function(a){return st.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):M.resolve(fr());let l=ii,c=i;return a.next((h=>M.forEach(h,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?M.resolve():this.remoteDocumentCache.getEntry(t,f).next((m=>{c=c.insert(f,m)}))))).next((()=>this.populateOverlays(t,h,i))).next((()=>this.computeViews(t,c,h,vt()))).next((f=>({batchId:l,changes:ww(f)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new st(n)).next((r=>{let s=xs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=xs();return this.indexManager.getCollectionParents(t,i).next((l=>M.forEach(l,(c=>{const h=(function(p,m){return new us(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,r,s).next((f=>{f.forEach(((p,m)=>{a=a.insert(p,m)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,ce.newInvalidDocument(f)))}));let l=xs();return a.forEach(((c,h)=>{const f=i.get(c);f!==void 0&&Qs(f.mutation,h,Un.empty(),Dt.now()),Bo(n,h)&&(l=l.insert(c,h))})),l}))}}class uA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return M.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Hr(s.createTime)}})(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Zw(s.bundledQuery),readTime:Hr(s.readTime)}})(n)),M.resolve()}}class hA{constructor(){this.overlays=new Ut(st.comparator),this.qr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=fr();return M.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.St(t,n,i)})),M.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const s=fr(),i=n.length+1,a=new st(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Ut(((h,f)=>h-f));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=fr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=fr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,f)=>l.set(h,f))),!(l.size()>=s)););return M.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xw(n,r));let i=this.qr.get(n);i===void 0&&(i=vt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class fA{constructor(){this.sessionToken=ne.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,M.resolve()}}class ac{constructor(){this.Qr=new Qt(Jt.$r),this.Ur=new Qt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Jt(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Jt(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new st(new Nt([])),r=new Jt(n,t),s=new Jt(n,t+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new st(new Nt([])),r=new Jt(n,t),s=new Jt(n,t+1);let i=vt();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const n=new Jt(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Jt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return st.comparator(t.key,n.key)||gt(t.Yr,n.Yr)}static Kr(t,n){return gt(t.Yr,n.Yr)||st.comparator(t.key,n.key)}}class dA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Jt.$r)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ow(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Jt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return M.resolve(a)}lookupMutationBatch(t,n){return M.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?JT:this.tr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Qt(gt);return n.forEach((s=>{const i=new Jt(s,0),a=new Jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{r=r.add(l.Yr)}))})),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;st.isDocumentKey(i)||(i=i.child(""));const a=new Jt(new st(i),0);let l=new Qt(gt);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Yr)),!0)}),a),M.resolve(this.ti(l))}ti(t){const n=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(n.mutations,(s=>{const i=new Jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Jt(n,0),s=this.Zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pA{constructor(t){this.ri=t,this.docs=(function(){return new Ut(st.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ce.newInvalidDocument(n))}getEntries(t,n){let r=Jn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ce.newInvalidDocument(s))})),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=Jn();const a=n.path,l=new st(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||WT(KT(f),r)<=0||(s.has(f.key)||Bo(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(t,n,r,s){at(9500)}ii(t,n){return M.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new gA(this)}getSize(t){return M.resolve(this.size)}}class gA extends aA{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),M.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class mA{constructor(t){this.persistence=t,this.si=new Ir((n=>tc(n)),ec),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new ac,this.targetCount=0,this.ai=rs.ur()}forEachTarget(t,n){return this.si.forEach(((r,s)=>n(s))),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),M.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new rs(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.Pr(n),M.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),M.waitFor(i).next((()=>s))}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),M.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),M.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this._i.containsKey(n))}}class pg{constructor(t,n){this.ui={},this.overlays={},this.ci=new Mo(0),this.li=!1,this.li=!0,this.hi=new fA,this.referenceDelegate=t(this),this.Pi=new mA(this),this.indexManager=new tA,this.remoteDocumentCache=(function(s){return new pA(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Jw(n),this.Ii=new uA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new dA(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const s=new _A(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,n){return M.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class _A extends XT{constructor(t){super(),this.currentSequenceNumber=t}}class lc{constructor(t){this.persistence=t,this.Ri=new ac,this.Vi=null}static mi(t){return new lc(t)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),M.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,(r=>{const s=st.fromPath(r);return this.gi(t,s).next((i=>{i||n.removeEntry(s,ot.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class mo{constructor(t,n){this.persistence=t,this.pi=new Ir((r=>tw(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=oA(this,n)}static mi(t,n){return new mo(t,n)}Ei(){}di(t){return M.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return M.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?M.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,n).next((l=>{l||(r++,i.removeEntry(a,ot.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),M.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),M.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),M.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),M.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wi(t.data.value)),n}br(t,n,r){return M.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=s}static As(t,n){let r=vt(),s=vt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cc(t,n.fromCache,r,s)}}class yA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class EA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ev()?8:YT(_v())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ys(t,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new yA;return this.Ss(t,n,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,n,a,l.size)}))})).next((()=>i.result))}bs(t,n,r,s){return r.documentReadCount<this.fs?(kr()<=_t.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Mr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(kr()<=_t.DEBUG&&Y("QueryEngine","Query:",Mr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(kr()<=_t.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Mr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cn(n))):M.resolve())}ys(t,n){if(Kh(n))return M.resolve(null);let r=cn(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=cl(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const a=vt(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const h=this.Ds(n,l);return this.Cs(n,h,a,c.readTime)?this.ys(t,cl(n,null,"F")):this.vs(t,h,n,c)}))))})))))}ws(t,n,r,s){return Kh(n)||s.isEqual(ot.min())?M.resolve(null):this.ps.getDocuments(t,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?M.resolve(null):(kr()<=_t.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mr(n)),this.vs(t,a,n,GT(s,ii)).next((l=>l)))}))}Ds(t,n){let r=new Qt(Kp(t));return n.forEach(((s,i)=>{Bo(t,i)&&(r=r.add(i))})),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return kr()<=_t.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Mr(n)),this.ps.getDocumentsMatchingQuery(t,n,Wn.min(),r)}vs(t,n,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const uc="LocalStore",vA=3e8;class TA{constructor(t,n,r,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Ut(gt),this.xs=new Ir((i=>tc(i)),ec),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function wA(e,t,n,r){return new TA(e,t,n,r)}async function gg(e,t){const n=yt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],l=[];let c=vt();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function mg(e){const t=yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function AA(e,t){const n=yt(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach(((f,p)=>{const m=s.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p))));let y=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(ne.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(p,y),(function(N,D,z){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=vA?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(m,y,f)&&l.push(n.Pi.updateTargetData(i,y))}));let c=Jn(),h=vt();if(t.documentUpdates.forEach((f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(IA(i,a,t.documentUpdates).next((f=>{c=f.ks,h=f.qs}))),!r.isEqual(ot.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(f)}return M.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function IA(e,t,n){let r=vt(),s=vt();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let a=Jn();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ot.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):Y(uc,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function bA(e,t){const n=yt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,t).next((i=>i?(s=i,M.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Bn(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function gl(e,t,n){const r=yt(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!ls(a))throw a;Y(uc,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function af(e,t,n){const r=yt(e);let s=ot.min(),i=vt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,f){const p=yt(c),m=p.xs.get(f);return m!==void 0?M.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,f)})(r,a,cn(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,t,n?s:ot.min(),n?i:vt()))).next((l=>(RA(r,Ew(t),l),{documents:l,Qs:i})))))}function RA(e,t,n){let r=e.Os.get(t)||ot.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Os.set(t,r)}class lf{constructor(){this.activeTargetIds=bw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SA{constructor(){this.Mo=new lf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lf,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class CA{Oo(t){}shutdown(){}}const cf="ConnectivityMonitor";class uf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(cf,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Y(cf,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mi=null;function ml(){return Mi===null?Mi=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mi++,"0x"+Mi.toString(16)}const Va="RestConnection",PA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VA{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===uo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,n,r,s,i){const a=ml(),l=this.zo(t,n.toUriEncodedString());Y(Va,`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(l),f=Ar(h);return this.Jo(t,l,c,r,f).then((p=>(Y(Va,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw Zr(Va,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(t,n,r,s,i,a){return this.Go(t,n,r,s,i)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+as})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,n){const r=PA[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class NA{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const oe="WebChannelConnection";class DA extends VA{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const a=ml();return new Promise(((l,c)=>{const h=new Tp;h.setWithCredentials(!0),h.listenOnce(wp.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Gi.NO_ERROR:const p=h.getResponseJson();Y(oe,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Gi.TIMEOUT:Y(oe,`RPC '${t}' ${a} timed out`),c(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case Gi.HTTP_ERROR:const m=h.getStatus();if(Y(oe,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const P=y?.error;if(P&&P.status&&P.message){const N=(function(z){const j=z.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(j)>=0?j:H.UNKNOWN})(P.status);c(new J(N,P.message))}else c(new J(H.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new J(H.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Y(oe,`RPC '${t}' ${a} completed.`)}}));const f=JSON.stringify(s);Y(oe,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,r,15)}))}T_(t,n,r){const s=ml(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=bp(),l=Ip(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");Y(oe,`Creating RPC '${t}' stream ${s}: ${f}`,c);const p=a.createWebChannel(f,c);this.I_(p);let m=!1,y=!1;const P=new NA({Yo:D=>{y?Y(oe,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(m||(Y(oe,`Opening RPC '${t}' stream ${s} transport.`),p.open(),m=!0),Y(oe,`RPC '${t}' stream ${s} sending:`,D),p.send(D))},Zo:()=>p.close()}),N=(D,z,j)=>{D.listen(z,(q=>{try{j(q)}catch($){setTimeout((()=>{throw $}),0)}}))};return N(p,Os.EventType.OPEN,(()=>{y||(Y(oe,`RPC '${t}' stream ${s} transport opened.`),P.o_())})),N(p,Os.EventType.CLOSE,(()=>{y||(y=!0,Y(oe,`RPC '${t}' stream ${s} transport closed`),P.a_(),this.E_(p))})),N(p,Os.EventType.ERROR,(D=>{y||(y=!0,Zr(oe,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),P.a_(new J(H.UNAVAILABLE,"The operation could not be completed")))})),N(p,Os.EventType.MESSAGE,(D=>{if(!y){const z=D.data[0];xt(!!z,16349);const j=z,q=j?.error||j[0]?.error;if(q){Y(oe,`RPC '${t}' stream ${s} received error:`,q);const $=q.status;let it=(function(E){const T=qt[E];if(T!==void 0)return ng(T)})($),ct=q.message;it===void 0&&(it=H.INTERNAL,ct="Unknown error status: "+$+" with message "+q.message),y=!0,P.a_(new J(it,ct)),p.close()}else Y(oe,`RPC '${t}' stream ${s} received:`,z),P.u_(z)}})),N(l,Ap.STAT_EVENT,(D=>{D.stat===nl.PROXY?Y(oe,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===nl.NOPROXY&&Y(oe,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Na(){return typeof document<"u"?document:null}function Ho(e){return new qw(e,!0)}class _g{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hf="PersistentStream";class OA{constructor(t,n,r,s,i,a,l,c){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _g(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(bn(n.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Y(hf,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Y(hf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xA extends OA{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Hw(this.serializer,t),r=(function(i){if(!("targetChange"in i))return ot.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ot.min():a.readTime?Hr(a.readTime):ot.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=nf(this.serializer),n.addTarget=(function(i,a){let l;const c=a.target;if(l=al(c)?{documents:zw(i,c)}:{query:Gw(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=ig(i,a.resumeToken);const h=fl(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ot.min())>0){l.readTime=dl(i,a.snapshotVersion.toTimestamp());const h=fl(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,t);const r=Ww(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=nf(this.serializer),n.removeTarget=t,this.q_(n)}}class kA{}class MA extends kA{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,pl(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(H.UNKNOWN,i.toString())}))}Ho(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,pl(n,r),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(H.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LA{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ss="RemoteStore";class FA{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{mi(this)&&(Y(ss,"Restarting streams for network reachability change."),await(async function(c){const h=yt(c);h.Ea.add(4),await gi(h),h.Ra.set("Unknown"),h.Ea.delete(4),await zo(h)})(this))}))})),this.Ra=new LA(r,s)}}async function zo(e){if(mi(e))for(const t of e.da)await t(!0)}async function gi(e){for(const t of e.da)await t(!1)}function yg(e,t){const n=yt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),pc(n)?dc(n):hs(n).O_()&&fc(n,t))}function hc(e,t){const n=yt(e),r=hs(n);n.Ia.delete(t),r.O_()&&Eg(n,t),n.Ia.size===0&&(r.O_()?r.L_():mi(n)&&n.Ra.set("Unknown"))}function fc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hs(e).Y_(t)}function Eg(e,t){e.Va.Ue(t),hs(e).Z_(t)}function dc(e){e.Va=new Fw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hs(e).start(),e.Ra.ua()}function pc(e){return mi(e)&&!hs(e).x_()&&e.Ia.size>0}function mi(e){return yt(e).Ea.size===0}function vg(e){e.Va=void 0}async function UA(e){e.Ra.set("Online")}async function BA(e){e.Ia.forEach(((t,n)=>{fc(e,t)}))}async function jA(e,t){vg(e),pc(e)?(e.Ra.ha(t),dc(e)):e.Ra.set("Unknown")}async function qA(e,t,n){if(e.Ra.set("Online"),t instanceof sg&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(e,t)}catch(r){Y(ss,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ff(e,r)}else if(t instanceof Xi?e.Va.Ze(t):t instanceof rg?e.Va.st(t):e.Va.tt(t),!n.isEqual(ot.min()))try{const r=await mg(e.localStore);n.compareTo(r)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(ne.EMPTY_BYTE_STRING,f.snapshotVersion)),Eg(i,c);const p=new Bn(f.target,c,h,f.sequenceNumber);fc(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){Y(ss,"Failed to raise snapshot:",r),await ff(e,r)}}async function ff(e,t,n){if(!ls(t))throw t;e.Ea.add(1),await gi(e),e.Ra.set("Offline"),n||(n=()=>mg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Y(ss,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await zo(e)}))}async function df(e,t){const n=yt(e);n.asyncQueue.verifyOperationInProgress(),Y(ss,"RemoteStore received new credentials");const r=mi(n);n.Ea.add(3),await gi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await zo(n)}async function $A(e,t){const n=yt(e);t?(n.Ea.delete(2),await zo(n)):t||(n.Ea.add(2),await gi(n),n.Ra.set("Unknown"))}function hs(e){return e.ma||(e.ma=(function(n,r,s){const i=yt(n);return i.sa(),new xA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:UA.bind(null,e),t_:BA.bind(null,e),r_:jA.bind(null,e),H_:qA.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),pc(e)?dc(e):e.Ra.set("Unknown")):(await e.ma.stop(),vg(e))}))),e.ma}class gc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new gc(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(e,t){if(bn("AsyncQueue",`${t}: ${e}`),ls(e))return new J(H.UNAVAILABLE,`${t}: ${e}`);throw e}class zr{static emptySet(t){return new zr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=xs(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new zr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class pf{constructor(){this.ga=new Ut(st.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):at(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class is{constructor(t,n,r,s,i,a,l,c,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new is(t,n,zr.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class HA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zA{constructor(){this.queries=gf(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=yt(n),i=s.queries;s.queries=gf(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new J(H.ABORTED,"Firestore shutting down"))}}function gf(){return new Ir((e=>Gp(e)),Uo)}async function GA(e,t){const n=yt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new HA,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Tg(a,`Initialization of query '${Mr(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&mc(n)}async function KA(e,t){const n=yt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WA(e,t){const n=yt(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&mc(n)}function QA(e,t,n){const r=yt(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function mc(e){e.Ca.forEach((t=>{t.next()}))}var _l,mf;(mf=_l||(_l={})).Ma="default",mf.Cache="cache";class XA{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new is(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=is.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_l.Cache}}class wg{constructor(t){this.key=t}}class Ag{constructor(t){this.key=t}}class YA{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=Kp(t),this.tu=new zr(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new pf,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((f,p)=>{const m=s.get(f),y=Bo(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;m&&y?m.data.isEqual(y.data)?P!==N&&(r.track({type:3,doc:y}),D=!0):this.su(m,y)||(r.track({type:2,doc:y}),D=!0,(c&&this.eu(y,c)>0||h&&this.eu(y,h)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),D=!0):m&&!y&&(r.track({type:1,doc:m}),D=!0,(c||h)&&(l=!0)),D&&(y?(a=a.add(y),i=N?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((f,p)=>(function(y,P){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:D})}};return N(y)-N(P)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new is(this.query,t.tu,i,a,t.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Ag(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new wg(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=vt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _c="SyncEngine";class JA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ZA{constructor(t){this.key=t,this.hu=!1}}class tI{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ir((l=>Gp(l)),Uo),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(st.comparator),this.Au=new Map,this.Ru=new ac,this.Vu={},this.mu=new Map,this.fu=rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eI(e,t,n=!0){const r=Cg(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Ig(r,t,n,!0),s}async function nI(e,t){const n=Cg(e);await Ig(n,t,!0,!1)}async function Ig(e,t,n,r){const s=await bA(e.localStore,cn(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await rI(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&yg(e.remoteStore,s),l}async function rI(e,t,n,r,s){e.pu=(p,m,y)=>(async function(N,D,z,j){let q=D.view.ru(z);q.Cs&&(q=await af(N.localStore,D.query,!1).then((({documents:A})=>D.view.ru(A,q))));const $=j&&j.targetChanges.get(D.targetId),it=j&&j.targetMismatches.get(D.targetId)!=null,ct=D.view.applyChanges(q,N.isPrimaryClient,$,it);return yf(N,D.targetId,ct.au),ct.snapshot})(e,p,m,y);const i=await af(e.localStore,t,!0),a=new YA(t,i.Qs),l=a.ru(i.documents),c=pi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),h=a.applyChanges(l,e.isPrimaryClient,c);yf(e,n,h.au);const f=new JA(t,n,a);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function sI(e,t,n){const r=yt(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!Uo(a,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gl(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hc(r.remoteStore,s.targetId),yl(r,s.targetId)})).catch(ko)):(yl(r,s.targetId),await gl(r.localStore,s.targetId,!0))}async function iI(e,t){const n=yt(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hc(n.remoteStore,r.targetId))}async function bg(e,t){const n=yt(e);try{const r=await AA(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?xt(a.hu,14607):s.removedDocuments.size>0&&(xt(a.hu,42227),a.hu=!1))})),await Sg(n,r,t)}catch(r){await ko(r)}}function _f(e,t,n){const r=yt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=yt(a);c.onlineState=l;let h=!1;c.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)})),h&&mc(c)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oI(e,t,n){const r=yt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let a=new Ut(st.comparator);a=a.insert(i,ce.newNoDocument(i,ot.min()));const l=vt().add(i),c=new $o(ot.min(),new Map,new Ut(gt),a,l);await bg(r,c),r.du=r.du.remove(i),r.Au.delete(t),yc(r)}else await gl(r.localStore,t,!1).then((()=>yl(r,t,n))).catch(ko)}function yl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Rg(e,r)}))}function Rg(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(hc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),yc(e))}function yf(e,t,n){for(const r of n)r instanceof wg?(e.Ru.addReference(r.key,t),aI(e,r)):r instanceof Ag?(Y(_c,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Rg(e,r.key)):at(19791,{wu:r})}function aI(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Y(_c,"New document in limbo: "+n),e.Eu.add(r),yc(e))}function yc(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new st(Nt.fromString(t)),r=e.fu.next();e.Au.set(r,new ZA(n)),e.du=e.du.insert(n,r),yg(e.remoteStore,new Bn(cn(nc(n.path)),r,"TargetPurposeLimboResolution",Mo.ce))}}async function Sg(e,t,n){const r=yt(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,t,n).then((h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){s.push(h);const f=cc.As(c.targetId,h);i.push(f)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(c,h){const f=yt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>M.forEach(h,(m=>M.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>M.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!ls(p))throw p;Y(uc,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),P=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(P);f.Ms=f.Ms.insert(m,N)}}})(r.localStore,i))}async function lI(e,t){const n=yt(e);if(!n.currentUser.isEqual(t)){Y(_c,"User change. New user:",t.toKey());const r=await gg(n.localStore,t);n.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new J(H.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Sg(n,r.Ls)}}function cI(e,t){const n=yt(e),r=n.Au.get(t);if(r&&r.hu)return vt().add(r.key);{let s=vt();const i=n.Iu.get(t);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Cg(e){const t=yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Pu.H_=WA.bind(null,t.eventManager),t.Pu.yu=QA.bind(null,t.eventManager),t}class _o{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ho(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return wA(this.persistence,new EA,t.initialUser,this.serializer)}Cu(t){return new pg(lc.mi,this.serializer)}Du(t){return new SA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_o.provider={build:()=>new _o};class uI extends _o{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xt(this.persistence.referenceDelegate instanceof mo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sA(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new pg((r=>mo.mi(r,n)),this.serializer)}}class El{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_f(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await $A(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zA})()}createDatastore(t){const n=Ho(t.databaseInfo.databaseId),r=(function(i){return new DA(i)})(t.databaseInfo);return(function(i,a,l,c){return new MA(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,a,l){return new FA(r,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>_f(this.syncEngine,n,0)),(function(){return uf.v()?new uf:new CA})())}createSyncEngine(t,n){return(function(s,i,a,l,c,h,f){const p=new tI(s,i,a,l,c,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=yt(n);Y(ss,"RemoteStore shutting down."),r.Ea.add(5),await gi(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}El.provider={build:()=>new El};class hI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Zn="FirestoreClient";class fI{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ae.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{Y(Zn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Y(Zn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Da(e,t){e.asyncQueue.verifyOperationInProgress(),Y(Zn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await gg(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ef(e,t){e.asyncQueue.verifyOperationInProgress();const n=await dI(e);Y(Zn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>df(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>df(t.remoteStore,s))),e._onlineComponents=t}async function dI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y(Zn,"Using user provided OfflineComponentProvider");try{await Da(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),await Da(e,new _o)}}else Y(Zn,"Using default OfflineComponentProvider"),await Da(e,new uI(void 0));return e._offlineComponents}async function pI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y(Zn,"Using user provided OnlineComponentProvider"),await Ef(e,e._uninitializedComponentsProvider._online)):(Y(Zn,"Using default OnlineComponentProvider"),await Ef(e,new El))),e._onlineComponents}async function vf(e){const t=await pI(e),n=t.eventManager;return n.onListen=eI.bind(null,t.syncEngine),n.onUnlisten=sI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iI.bind(null,t.syncEngine),n}function Pg(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tf=new Map;const Vg="firestore.googleapis.com",wf=!0;class Af{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vg,this.ssl=wf}else this.host=t.host,this.ssl=t.ssl??wf;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dg;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nA)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pg(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ec{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kT;switch(r.type){case"firstParty":return new UT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Tf.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Tf.delete(n),r.terminate())})(this),Promise.resolve()}}function Ng(e,t,n,r={}){e=Ki(e,Ec);const s=Ar(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(zl(`https://${l}`),Gl("Firestore",!0)),i.host!==Vg&&i.host!==l&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!ao(c,a)&&(e._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ae.MOCK_USER;else{h=hp(r.mockUserToken,e._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ae(p)}e._authCredentials=new MT(new Sp(h,f))}}class br{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new br(this.firestore,t,this._query)}}class he{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(di(n,he._jsonSchema))return new he(t,r||null,new st(Nt.fromString(n.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ht("string",he._jsonSchemaVersion),referencePath:Ht("string")};class Gr extends br{constructor(t,n,r){super(t,n,nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new st(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function gI(e,t,...n){if(e=We(e),e instanceof Ec){const r=Nt.fromString(t,...n);return Oh(r),new Gr(e,null,r)}{if(!(e instanceof he||e instanceof Gr))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return Oh(r),new Gr(e.firestore,null,r)}}const If="AsyncQueue";class bf{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _g(this,"async_queue_retry"),this._c=()=>{const r=Na();r&&Y(If,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Na();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Na();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ls(t))throw t;Y(If,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,bn("INTERNAL UNHANDLED ERROR: ",Rf(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=gc.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&at(47125,{Pc:Rf(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Rf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Sf(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(e,["next","error","complete"])}class vl extends Ec{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new bf,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bf(t),this._firestoreClient=void 0,await t}}}function mI(e,t){const n=typeof e=="object"?e:Xl(),r=typeof e=="string"?e:uo,s=Wl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Hl("firestore");i&&Ng(s,...i)}return s}function _I(e){if(e._terminated)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yI(e),e._firestoreClient}function yI(e){const t=e._freezeSettings(),n=(function(s,i,a,l){return new rw(s,i,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Pg(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new fI(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class Fe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fe(ne.fromBase64String(t))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fe(ne.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(di(t,Fe._jsonSchema))return Fe.fromBase64String(t.bytes)}}Fe._jsonSchemaVersion="firestore/bytes/1.0",Fe._jsonSchema={type:Ht("string",Fe._jsonSchemaVersion),bytes:Ht("string")};class Dg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Og{constructor(t){this._methodName=t}}class un{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return gt(this._lat,t._lat)||gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:un._jsonSchemaVersion}}static fromJSON(t){if(di(t,un._jsonSchema))return new un(t.latitude,t.longitude)}}un._jsonSchemaVersion="firestore/geoPoint/1.0",un._jsonSchema={type:Ht("string",un._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class hn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(di(t,hn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new hn(t.vectorValues);throw new J(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:Ht("string",hn._jsonSchemaVersion),vectorValues:Ht("object")};const EI=/^__.*__$/;function xg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:e})}}class vc{constructor(t,n,r,s,i,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vc({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Tl(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xg(this.Ac)&&EI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class vI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ho(t)}Cc(t,n,r,s=!1){return new vc({Ac:t,methodName:n,Dc:r,path:ue.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TI(e){const t=e._freezeSettings(),n=Ho(e._databaseId);return new vI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wI(e,t,n,r=!1){return Tc(n,e.Cc(r?4:3,t))}function Tc(e,t){if(kg(e=We(e)))return II("Unsupported field value:",t,e),AI(e,t);if(e instanceof Og)return(function(r,s){if(!xg(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const l of r){let c=Tc(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rw(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Dt.fromDate(r);return{timestampValue:dl(s.serializer,i)}}if(r instanceof Dt){const i=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dl(s.serializer,i)}}if(r instanceof un)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fe)return{bytesValue:ig(s.serializer,r._byteString)};if(r instanceof he){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:og(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hn)return(function(a,l){return{mapValue:{fields:{[Lp]:{stringValue:Fp},[ho]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return rc(l.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${xo(r)}`)})(e,t)}function AI(e,t){const n={};return Np(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(e,((r,s)=>{const i=Tc(s,t.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function kg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Dt||e instanceof un||e instanceof Fe||e instanceof he||e instanceof Og||e instanceof hn)}function II(e,t,n){if(!kg(n)||!Pp(n)){const r=xo(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}const bI=new RegExp("[~\\*/\\[\\]]");function RI(e,t,n){if(t.search(bI)>=0)throw Tl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dg(...t.split("."))._internalPath}catch{throw Tl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tl(e,t,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new J(H.INVALID_ARGUMENT,l+e+c)}class Mg{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SI extends Mg{data(){return super.data()}}function wc(e,t){return typeof t=="string"?RI(e,t):t instanceof Dg?t._internalPath:t._delegate._internalPath}function CI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ac{}class Lg extends Ac{}function PI(e,t,...n){let r=[];t instanceof Ac&&r.push(t),r=r.concat(n),(function(i){const a=i.filter((c=>c instanceof bc)).length,l=i.filter((c=>c instanceof Ic)).length;if(a>1||a>0&&l>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)e=s._apply(e);return e}class Ic extends Lg{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ic(t,n,r)}_apply(t){const n=this._parse(t);return Fg(t._query,n),new br(t.firestore,t.converter,ll(t._query,n))}_parse(t){const n=TI(t.firestore);return(function(i,a,l,c,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Pf(p,f);const P=[];for(const N of p)P.push(Cf(c,i,N));m={arrayValue:{values:P}}}else m=Cf(c,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Pf(p,f),m=wI(l,a,p,f==="in"||f==="not-in");return $t.create(h,f,m)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class bc extends Ac{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new bc(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qe.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)Fg(a,c),a=ll(a,c)})(t._query,n),new br(t.firestore,t.converter,ll(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rc extends Lg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Rc(t,n)}_apply(t){const n=(function(s,i,a){if(s.startAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ci(i,a)})(t._query,this._field,this._direction);return new br(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new us(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function VI(e,t="asc"){const n=t,r=wc("orderBy",e);return Rc._create(r,n)}function Cf(e,t,n){if(typeof(n=We(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zp(t)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nt.fromString(n));if(!st.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jh(e,new st(r))}if(n instanceof he)return jh(e,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xo(n)}.`)}function Pf(e,t){if(!Array.isArray(e)||e.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Fg(e,t){const n=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class NI{convertValue(t,n="none"){switch(Yn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw at(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return cs(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[ho].arrayValue?.values?.map((r=>Ft(r.doubleValue)));return new hn(n)}convertGeoPoint(t){return new un(Ft(t.latitude),Ft(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Fo(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oi(t));default:return null}}convertTimestamp(t){const n=Qn(t);return new Dt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Nt.fromString(t);xt(fg(r),9688,{name:t});const s=new ai(r.get(1),r.get(3)),i=new st(r.popFirst(5));return s.isEqual(n)||bn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Ms{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _r extends Mg{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(wc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_r._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:Ht("string",_r._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Yi extends _r{data(t={}){return super.data(t)}}class Kr{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ms(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Yi(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new Yi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ms(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Yi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ms(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:DI(l.type),doc:c,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Kr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:e})}}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:Ht("string",Kr._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Ug extends NI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,n)}}function OI(e,...t){e=We(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Sf(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sf(t[r])){const c=t[r];t[r]=c.next?.bind(c),t[r+1]=c.error?.bind(c),t[r+2]=c.complete?.bind(c)}let i,a,l;if(e instanceof he)a=Ki(e.firestore,vl),l=nc(e._key.path),i={next:c=>{t[r]&&t[r](xI(a,e,c))},error:t[r+1],complete:t[r+2]};else{const c=Ki(e,br);a=Ki(c.firestore,vl),l=c._query;const h=new Ug(a);i={next:f=>{t[r]&&t[r](new Kr(a,h,c,f))},error:t[r+1],complete:t[r+2]},CI(e._query)}return(function(h,f,p,m){const y=new hI(m),P=new XA(f,y,p);return h.asyncQueue.enqueueAndForget((async()=>GA(await vf(h),P))),()=>{y.Nu(),h.asyncQueue.enqueueAndForget((async()=>KA(await vf(h),P)))}})(_I(a),l,s,i)}function xI(e,t,n){const r=n.docs.get(t._key),s=new Ug(e);return new _r(e,s,t._key,r,new Ms(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){as=s})(mp),Jr(new Er("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new vl(new LT(r.getProvider("auth-internal")),new BT(a,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ai(h.options.projectId,f)})(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),ln(Ph,Vh,t),ln(Ph,Vh,"esm2020")})();const Bg="firebasestorage.googleapis.com",jg="storageBucket",kI=120*1e3,MI=600*1e3,LI=1e3;class Lt extends er{constructor(t,n,r=0){super(Oa(t),`Firebase Storage: ${n} (${Oa(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Oa(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ot;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ot||(Ot={}));function Oa(e){return"storage/"+e}function Sc(){const e="An unknown error occurred, please check the error payload for server response.";return new Lt(Ot.UNKNOWN,e)}function FI(e){return new Lt(Ot.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function UI(e){return new Lt(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BI(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Ot.UNAUTHENTICATED,e)}function jI(){return new Lt(Ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qI(e){return new Lt(Ot.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function qg(){return new Lt(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $g(){return new Lt(Ot.CANCELED,"User canceled the upload/download.")}function $I(e){return new Lt(Ot.INVALID_URL,"Invalid URL '"+e+"'.")}function HI(e){return new Lt(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function zI(){return new Lt(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jg+"' property when initializing the app?")}function Hg(){return new Lt(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GI(){return new Lt(Ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function KI(e){return new Lt(Ot.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wl(e){return new Lt(Ot.INVALID_ARGUMENT,e)}function zg(){return new Lt(Ot.APP_DELETED,"The Firebase app was deleted.")}function WI(e){return new Lt(Ot.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xs(e,t){return new Lt(Ot.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Vs(e){throw new Lt(Ot.INTERNAL_ERROR,"Internal error: "+e)}class ke{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ke.makeFromUrl(t,n)}catch{return new ke(t,"")}if(r.path==="")return r;throw HI(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h($){$.path_=decodeURIComponent($.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${s}/o${m}`,"i"),P={bucket:1,path:3},N=n===Bg?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",z=new RegExp(`^https?://${N}/${s}/${D}`,"i"),q=[{regex:l,indices:c,postModify:i},{regex:y,indices:P,postModify:h},{regex:z,indices:{bucket:1,path:2},postModify:h}];for(let $=0;$<q.length;$++){const it=q[$],ct=it.regex.exec(t);if(ct){const A=ct[it.indices.bucket];let E=ct[it.indices.path];E||(E=""),r=new ke(A,E),it.postModify(r);break}}if(r==null)throw $I(t);return r}}class QI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function XI(e,t,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let h=!1;function f(...D){h||(h=!0,t.apply(null,D))}function p(D){s=setTimeout(()=>{s=null,e(y,c())},D)}function m(){i&&clearTimeout(i)}function y(D,...z){if(h){m();return}if(D){m(),f.call(null,D,...z);return}if(c()||a){m(),f.call(null,D,...z);return}r<64&&(r*=2);let q;l===1?(l=2,q=0):q=(r+Math.random())*1e3,p(q)}let P=!1;function N(D){P||(P=!0,m(),!h&&(s!==null?(D||(l=2),clearTimeout(s),p(0)):D||(l=1)))}return p(0),i=setTimeout(()=>{a=!0,N(!0)},n),N}function YI(e){e(!1)}function JI(e){return e!==void 0}function ZI(e){return typeof e=="function"}function tb(e){return typeof e=="object"&&!Array.isArray(e)}function Cc(e){return typeof e=="string"||e instanceof String}function Vf(e){return Pc()&&e instanceof Blob}function Pc(){return typeof Blob<"u"}function Nf(e,t,n,r){if(r<t)throw wl(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw wl(`Invalid value for '${e}'. Expected ${n} or less.`)}function Vc(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function eb(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var yr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(yr||(yr={}));function Gg(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}class nb{constructor(t,n,r,s,i,a,l,c,h,f,p,m=!0,y=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,N)=>{this.resolve_=P,this.reject_=N,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Li(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===yr.NO_ERROR,c=i.getStatus();if(!l||Gg(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===yr.ABORT;r(!1,new Li(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Li(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());JI(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Sc();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?zg():$g();a(c)}else{const c=qg();a(c)}};this.canceled_?n(!1,new Li(!1,null,!0)):this.backoffId_=XI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&YI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Li{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function rb(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function sb(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ib(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ob(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ab(e,t,n,r,s,i,a=!0,l=!1){const c=eb(e.urlParams),h=e.url+c,f=Object.assign({},e.headers);return ib(f,t),rb(f,n),sb(f,i),ob(f,r),new nb(h,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,l)}function lb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cb(...e){const t=lb();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Pc())return new Blob(e);throw new Lt(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ub(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function hb(e){if(typeof atob>"u")throw KI("base-64");return atob(e)}const on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xa{constructor(t,n){this.data=t,this.contentType=n||null}}function fb(e,t){switch(e){case on.RAW:return new xa(Kg(t));case on.BASE64:case on.BASE64URL:return new xa(Wg(e,t));case on.DATA_URL:return new xa(pb(t),gb(t))}throw Sc()}function Kg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const i=r,a=e.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function db(e){let t;try{t=decodeURIComponent(e)}catch{throw Xs(on.DATA_URL,"Malformed data URL.")}return Kg(t)}function Wg(e,t){switch(e){case on.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw Xs(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case on.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw Xs(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hb(t)}catch(s){throw s.message.includes("polyfill")?s:Xs(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Qg{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Xs(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mb(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function pb(e){const t=new Qg(e);return t.base64?Wg(on.BASE64,t.rest):db(t.rest)}function gb(e){return new Qg(e).contentType}function mb(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Fn{constructor(t,n){let r=0,s="";Vf(t)?(this.data_=t,r=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(Vf(this.data_)){const r=this.data_,s=ub(r,t,n);return s===null?null:new Fn(s)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Fn(r,!0)}}static getBlob(...t){if(Pc()){const n=t.map(r=>r instanceof Fn?r.data_:r);return new Fn(cb.apply(null,n))}else{const n=t.map(a=>Cc(a)?fb(on.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Fn(s,!0)}}uploadData(){return this.data_}}function _b(e){let t;try{t=JSON.parse(e)}catch{return null}return tb(t)?t:null}function yb(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Eb(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Xg(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function vb(e,t){return t}class ge{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||vb}}let Fi=null;function Tb(e){return!Cc(e)||e.length<2?e:Xg(e)}function wb(){if(Fi)return Fi;const e=[];e.push(new ge("bucket")),e.push(new ge("generation")),e.push(new ge("metageneration")),e.push(new ge("name","fullPath",!0));function t(i,a){return Tb(a)}const n=new ge("name");n.xform=t,e.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new ge("size");return s.xform=r,e.push(s),e.push(new ge("timeCreated")),e.push(new ge("updated")),e.push(new ge("md5Hash",null,!0)),e.push(new ge("cacheControl",null,!0)),e.push(new ge("contentDisposition",null,!0)),e.push(new ge("contentEncoding",null,!0)),e.push(new ge("contentLanguage",null,!0)),e.push(new ge("contentType",null,!0)),e.push(new ge("metadata","customMetadata",!0)),Fi=e,Fi}function Ab(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new ke(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Ib(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,t[a.server])}return Ab(r,e),r}function bb(e,t,n){const r=_b(t);return r===null?null:Ib(e,r,n)}function Yg(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class _i{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zn(e){if(!e)throw Sc()}function Nc(e,t){function n(r,s){const i=bb(e,s,t);return zn(i!==null),i}return n}function yi(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=jI():s=BI():n.getStatus()===402?s=UI(e.bucket):n.getStatus()===403?s=qI(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function Rb(e){const t=yi(e);function n(r,s){let i=t(r,s);return r.getStatus()===404&&(i=FI(e.path)),i.serverResponse=s.serverResponse,i}return n}function Sb(e,t,n){const r=t.fullServerUrl(),s=Vc(r,e.host,e._protocol),i="GET",a=e.maxOperationRetryTime,l=new _i(s,i,Nc(e,n),a);return l.errorHandler=Rb(t),l}function Cb(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Jg(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Cb(null,t)),r}function Pb(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let q="";for(let $=0;$<2;$++)q=q+Math.random().toString().slice(2);return q}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const h=Jg(t,r,s),f=Yg(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Fn.getBlob(p,r,m);if(y===null)throw Hg();const P={name:h.fullPath},N=Vc(i,e.host,e._protocol),D="POST",z=e.maxUploadRetryTime,j=new _i(N,D,Nc(e,n),z);return j.urlParams=P,j.headers=a,j.body=y.uploadData(),j.errorHandler=yi(t),j}class yo{constructor(t,n,r,s){this.current=t,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Dc(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{zn(!1)}return zn(!!n&&(t||["active"]).indexOf(n)!==-1),n}function Vb(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a=Jg(t,r,s),l={name:a.fullPath},c=Vc(i,e.host,e._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=Yg(a,n),m=e.maxUploadRetryTime;function y(N){Dc(N);let D;try{D=N.getResponseHeader("X-Goog-Upload-URL")}catch{zn(!1)}return zn(Cc(D)),D}const P=new _i(c,h,y,m);return P.urlParams=l,P.headers=f,P.body=p,P.errorHandler=yi(t),P}function Nb(e,t,n,r){const s={"X-Goog-Upload-Command":"query"};function i(h){const f=Dc(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zn(!1)}p||zn(!1);const m=Number(p);return zn(!isNaN(m)),new yo(m,r.size(),f==="final")}const a="POST",l=e.maxUploadRetryTime,c=new _i(n,a,i,l);return c.headers=s,c.errorHandler=yi(t),c}const Df=256*1024;function Db(e,t,n,r,s,i,a,l){const c=new yo(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw GI();const h=c.total-c.current;let f=h;s>0&&(f=Math.min(f,s));const p=c.current,m=p+f;let y="";f===0?y="finalize":h===f?y="upload, finalize":y="upload";const P={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},N=r.slice(p,m);if(N===null)throw Hg();function D($,it){const ct=Dc($,["active","final"]),A=c.current+f,E=r.size();let T;return ct==="final"?T=Nc(t,i)($,it):T=null,new yo(A,E,ct==="final",T)}const z="POST",j=t.maxUploadRetryTime,q=new _i(n,z,D,j);return q.headers=P,q.body=N.uploadData(),q.progressCallback=l||null,q.errorHandler=yi(e),q}const Ie={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ka(e){switch(e){case"running":case"pausing":case"canceling":return Ie.RUNNING;case"paused":return Ie.PAUSED;case"success":return Ie.SUCCESS;case"canceled":return Ie.CANCELED;case"error":return Ie.ERROR;default:return Ie.ERROR}}class Ob{constructor(t,n,r){if(ZI(t)||n!=null||r!=null)this.next=t,this.error=n??void 0,this.complete=r??void 0;else{const i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}function Nr(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class xb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s,i){if(this.sent_)throw Vs("cannot .send() more than once");if(Ar(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class kb extends xb{initXhr(){this.xhr_.responseType="text"}}function Ns(){return new kb}class Mb{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ot.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Gg(s.status,[]))if(i)s=qg();else{this.sleepTime=Math.max(this.sleepTime*2,LI),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ot.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":t(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{const r=Vb(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ns,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,r)=>{const s=Nb(this._ref.storage,this._ref._location,t,this._blob),i=this._ref.storage._makeRequest(s,Ns,n,r);this._request=i,i.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=Df*this._chunkMultiplier,n=new yo(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let a;try{a=Db(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(a,Ns,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Df*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const r=Sb(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ns,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const r=Pb(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ns,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=$g(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=ka(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,r,s){const i=new Ob(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(ka(this._state)){case Ie.SUCCESS:Nr(this._resolve.bind(null,this.snapshot))();break;case Ie.CANCELED:case Ie.ERROR:const n=this._reject;Nr(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ka(this._state)){case Ie.RUNNING:case Ie.PAUSED:t.next&&Nr(t.next.bind(t,this.snapshot))();break;case Ie.SUCCESS:t.complete&&Nr(t.complete.bind(t))();break;case Ie.CANCELED:case Ie.ERROR:t.error&&Nr(t.error.bind(t,this._error))();break;default:t.error&&Nr(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}class Tr{constructor(t,n){this._service=t,n instanceof ke?this._location=n:this._location=ke.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Tr(t,n)}get root(){const t=new ke(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xg(this._location.path)}get storage(){return this._service}get parent(){const t=yb(this._location.path);if(t===null)return null;const n=new ke(this._location.bucket,t);return new Tr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw WI(t)}}function Lb(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Mb(e,new Fn(t),n)}function Fb(e,t){const n=Eb(e._location.path,t),r=new ke(e._location.bucket,n);return new Tr(e.storage,r)}function Ub(e){return/^[A-Za-z]+:\/\//.test(e)}function Bb(e,t){return new Tr(e,t)}function Zg(e,t){if(e instanceof Oc){const n=e;if(n._bucket==null)throw zI();const r=new Tr(n,n._bucket);return t!=null?Zg(r,t):r}else return t!==void 0?Fb(e,t):e}function jb(e,t){if(t&&Ub(t)){if(e instanceof Oc)return Bb(e,t);throw wl("To use ref(service, url), the first argument must be a Storage instance.")}else return Zg(e,t)}function Of(e,t){const n=t?.[jg];return n==null?null:ke.makeFromBucketSpec(n,e)}function qb(e,t,n,r={}){e.host=`${t}:${n}`;const s=Ar(t);s&&(zl(`https://${e.host}/b`),Gl("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:hp(i,e.app.options.projectId))}class Oc{constructor(t,n,r,s,i,a=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=Bg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kI,this._maxUploadRetryTime=MI,this._requests=new Set,s!=null?this._bucket=ke.makeFromBucketSpec(s,this._host):this._bucket=Of(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ke.makeFromBucketSpec(this._url,t):this._bucket=Of(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Nf("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Nf("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ql(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Tr(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new QI(zg());{const a=ab(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const xf="@firebase/storage",kf="0.14.0";const tm="storage";function $b(e,t,n){return e=We(e),Lb(e,t,n)}function Hb(e,t){return e=We(e),jb(e,t)}function zb(e=Xl(),t){e=We(e);const r=Wl(e,tm).getImmediate({identifier:t}),s=Hl("storage");return s&&em(r,...s),r}function em(e,t,n,r={}){qb(e,t,n,r)}function Gb(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Oc(n,r,s,t,mp)}function Kb(){Jr(new Er(tm,Gb,"PUBLIC").setMultipleInstances(!0)),ln(xf,kf,""),ln(xf,kf,"esm2020")}Kb();const Wb="type.googleapis.com/google.protobuf.Int64Value",Qb="type.googleapis.com/google.protobuf.UInt64Value";function nm(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Eo(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Eo(t));if(typeof e=="function"||typeof e=="object")return nm(e,t=>Eo(t));throw new Error("Data cannot be encoded in JSON: "+e)}function os(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Wb:case Qb:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>os(t)):typeof e=="function"||typeof e=="object"?nm(e,t=>os(t)):e}const xc="functions";const Mf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends er{constructor(t,n,r){super(`${xc}/${t}`,n||""),this.details=r,Object.setPrototypeOf(this,be.prototype)}}function Xb(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function vo(e,t){let n=Xb(e),r=n,s;try{const i=t&&t.error;if(i){const a=i.status;if(typeof a=="string"){if(!Mf[a])return new be("internal","internal");n=Mf[a],r=a}const l=i.message;typeof l=="string"&&(r=l),s=i.details,s!==void 0&&(s=os(s))}}catch{}return n==="ok"?null:new be(n,r,s)}class Yb{constructor(t,n,r,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ql(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s?.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}const Al="us-central1",Jb=/^data: (.*?)(?:\n|$)/;function Zb(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new be("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class tR{constructor(t,n,r,s,i=Al,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Yb(t,n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Al}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function eR(e,t,n){const r=Ar(t);e.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(zl(e.emulatorOrigin+"/backends"),Gl("Functions",!0))}function nR(e,t,n){const r=s=>sR(e,t,s,{});return r.stream=(s,i)=>oR(e,t,s,i),r}function rm(e){return e.emulatorOrigin&&Ar(e.emulatorOrigin)?"include":void 0}async function rR(e,t,n,r,s){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:rm(s)})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}async function sm(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function sR(e,t,n,r){const s=e._url(t);return iR(e,s,n,r)}async function iR(e,t,n,r){n=Eo(n);const s={data:n},i=await sm(e,r),a=r.timeout||7e4,l=Zb(a),c=await Promise.race([rR(t,s,i,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new be("cancelled","Firebase Functions instance was deleted.");const h=vo(c.status,c.json);if(h)throw h;if(!c.json)throw new be("internal","Response is not valid JSON object.");let f=c.json.data;if(typeof f>"u"&&(f=c.json.result),typeof f>"u")throw new be("internal","Response is missing data field.");return{data:os(f)}}function oR(e,t,n,r){const s=e._url(t);return aR(e,s,n,r||{})}async function aR(e,t,n,r){n=Eo(n);const s={data:n},i=await sm(e,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:i,signal:r?.signal,credentials:rm(e)})}catch(m){if(m instanceof Error&&m.name==="AbortError"){const P=new be("cancelled","Request was cancelled.");return{data:Promise.reject(P),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(P)}}}}}}const y=vo(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let l,c;const h=new Promise((m,y)=>{l=m,c=y});r?.signal?.addEventListener("abort",()=>{const m=new be("cancelled","Request was cancelled.");c(m)});const f=a.body.getReader(),p=lR(f,l,c,r?.signal);return{stream:{[Symbol.asyncIterator](){const m=p.getReader();return{async next(){const{value:y,done:P}=await m.read();return{value:y,done:P}},async return(){return await m.cancel(),{done:!0,value:void 0}}}}},data:h}}function lR(e,t,n,r){const s=(a,l)=>{const c=a.match(Jb);if(!c)return;const h=c[1];try{const f=JSON.parse(h);if("result"in f){t(os(f.result));return}if("message"in f){l.enqueue(os(f.message));return}if("error"in f){const p=vo(0,f);l.error(p),n(p);return}}catch(f){if(f instanceof be){l.error(f),n(f);return}}},i=new TextDecoder;return new ReadableStream({start(a){let l="";return c();async function c(){if(r?.aborted){const h=new be("cancelled","Request was cancelled");return a.error(h),n(h),Promise.resolve()}try{const{value:h,done:f}=await e.read();if(f){l.trim()&&s(l.trim(),a),a.close();return}if(r?.aborted){const m=new be("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}l+=i.decode(h,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const m of p)m.trim()&&s(m.trim(),a);return c()}catch(h){const f=h instanceof be?h:vo(0,null);a.error(f),n(f)}}},cancel(){return e.cancel()}})}const Lf="@firebase/functions",Ff="0.13.1";const cR="auth-internal",uR="app-check-internal",hR="messaging-internal";function fR(e){const t=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(cR),a=n.getProvider(hR),l=n.getProvider(uR);return new tR(s,i,a,l,r)};Jr(new Er(xc,t,"PUBLIC").setMultipleInstances(!0)),ln(Lf,Ff,e),ln(Lf,Ff,"esm2020")}function dR(e=Xl(),t=Al){const r=Wl(We(e),xc).getImmediate({identifier:t}),s=Hl("functions");return s&&im(r,...s),r}function im(e,t,n){eR(We(e),t,n)}function pR(e,t,n){return nR(We(e),t)}fR();const gR={apiKey:"AIzaSyCUi4K240JjeqxbAGdXILaOaU0UNBUYyC0",authDomain:"pruebatecnica-2025.firebaseapp.com",projectId:"pruebatecnica-2025",storageBucket:"pruebatecnica-2025.firebasestorage.app",messagingSenderId:"869050518120",appId:"1:869050518120:web:935b781071ba882461c9dd",measurementId:"G-2H5DJG9P8Y"},kc=_p(gR),om=mI(kc),am=zb(kc),lm=dR(kc);(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(console.log("Conectando a Emuladores locales..."),Ng(om,"127.0.0.1",8080),em(am,"127.0.0.1",9199),im(lm,"127.0.0.1",5001));const mR={class:"upload-container"},_R=["disabled"],yR={key:0,class:"progress-bar"},ER={__name:"UploadView",setup(e){const t=Ne(null),n=Ne(!1),r=Ne(0),s=Ne(""),i=Ne(!1),a=Ne(!1),l=h=>{const f=h.target.files[0];f&&(f.name.toLowerCase().endsWith(".zip")||f.type==="application/zip"||f.type==="application/x-zip-compressed")?(t.value=f,s.value=`Archivo seleccionado: ${f.name}`,i.value=!1,a.value=!1,r.value=0):(t.value=null,s.value="Por favor, selecciona un archivo ZIP vlido.",a.value=!0)},c=()=>{if(!t.value)return;n.value=!0,s.value="Iniciando subida...",i.value=!1,a.value=!1;const f=`zips_to_process/${Date.now()}_${t.value.name}`,p=Hb(am,f);$b(p,t.value).on("state_changed",y=>{const P=y.bytesTransferred/y.totalBytes*100;r.value=P,s.value=`Subiendo... ${P.toFixed(0)}%`},y=>{console.error("Error de subida:",y),s.value=`Error al subir el archivo: ${y.message}`,a.value=!0,n.value=!1},()=>{r.value=100,s.value="Subida completada! El procesamiento en el backend comenzar pronto.",i.value=!0,n.value=!1})};return(h,f)=>(De(),Me("div",mR,[f[0]||(f[0]=Z("h2",null,"Subir Archivo ZIP de Datos",-1)),Z("input",{type:"file",onChange:l,accept:".zip",class:"file-input"},null,32),Z("button",{onClick:c,disabled:!t.value||n.value,class:"upload-button"},Oe(n.value?"Subiendo...":"Procesar y Subir"),9,_R),r.value>0&&r.value<100?(De(),Me("div",yR," Progreso: "+Oe(r.value.toFixed(0))+"% ",1)):Lu("",!0),s.value?(De(),Me("p",{key:1,class:bo({success:i.value,error:a.value})},Oe(s.value),3)):Lu("",!0)]))}},vR=fi(ER,[["__scopeId","data-v-ca3e7d11"]]),TR={class:"data-container"},wR={key:0,class:"loading-message"},AR={key:1,class:"empty-message"},IR={key:2,class:"table-wrapper"},bR={class:"data-table"},RR=["onClick"],SR="datos_procesados",CR={__name:"DataView",setup(e){const t=Ne([]),n=Ne(!0),r=a=>{if(!a)return"N/A";const l=a.toDate?a.toDate():new Date(a);return l.toLocaleDateString("es-CO")+" "+l.toLocaleTimeString("es-CO")},s=()=>{const a=gI(om,SR),l=PI(a,VI("timestamp","desc"));OI(l,c=>{n.value=!1,t.value=c.docs.map(h=>({id:h.id,...h.data()}))},c=>{console.error("Error al escuchar Firestore:",c),n.value=!1,alert("Error al conectar con Firestore. Estn los emuladores corriendo?")})},i=async a=>{const l=prompt("Ingrese la clave de seguridad para descargar:");if(!l){alert("Descarga cancelada.");return}try{const c=pR(lm,"getSignedDownloadUrl"),h=a.origen.replace("zips_to_process/","")+"/"+a.nombre_archivo,p=(await c({storagePath:h,key:l})).data.url;window.open(p,"_blank")}catch(c){console.error(c),alert("Clave incorrecta o error generando URL de descarga.")}};return Ad(()=>{s()}),(a,l)=>(De(),Me("div",TR,[l[1]||(l[1]=Z("h2",null,"Archivos procesados y listados (Real-Time)",-1)),n.value?(De(),Me("div",wR," Cargando datos de Firestore en tiempo real... ")):t.value.length===0?(De(),Me("div",AR," No hay archivos registrados en la coleccin 'datos_procesados'. Sube un ZIP para comenzar. ")):(De(),Me("div",IR,[Z("table",bR,[l[0]||(l[0]=Z("thead",null,[Z("tr",null,[Z("th",null,"ID Documento (Firestore)"),Z("th",null,"Nombre del Archivo Descomprimido"),Z("th",null,"Origen (ZIP)"),Z("th",null,"Procesado"),Z("th",null,"Acciones")])],-1)),Z("tbody",null,[(De(!0),Me(He,null,x_(t.value,c=>(De(),Me("tr",{key:c.id},[Z("td",null,Oe(c.id_documento),1),Z("td",null,Oe(c.nombre_archivo),1),Z("td",null,Oe(c.origen.split("/").pop()),1),Z("td",null,Oe(r(c.timestamp)),1),Z("td",null,[Z("button",{onClick:h=>i(c),class:"download-button"}," Descargar archivo ",8,RR)])]))),128))])])]))]))}},PR=fi(CR,[["__scopeId","data-v-1300a233"]]),VR={class:"card-title"},NR={__name:"FeatureCard",props:{title:{type:String,required:!0},value:{type:[String,Number],default:0},color:{type:String,default:"#42b883"}},setup(e){return(t,n)=>(De(),Me("div",{class:"mini-card",style:Ys({backgroundColor:e.color+"20",borderLeftColor:e.color})},[Z("p",VR,Oe(e.title),1),Z("p",{class:"card-value",style:Ys({color:e.color})},Oe(e.value),5)],4))}},Uf=fi(NR,[["__scopeId","data-v-09bf2c26"]]),DR={class:"demo-page-container"},OR={class:"feature-grid"},xR={class:"feature-card"},kR={class:"card-content"},MR={class:"data-display"},LR={class:"feature-card"},FR={class:"card-content"},UR={class:"computed-result"},BR={class:"data-display"},jR={class:"feature-card"},qR={class:"card-content"},$R={class:"vmodel-result"},HR={class:"data-display"},zR={class:"feature-card"},GR={class:"card-content"},KR={__name:"DemoView",setup(e){const t=Ne(0),n=Ne(10),r=Ne(5),s=Le(()=>n.value*r.value),i=Ne("Texto inicial");return(a,l)=>(De(),Me("div",DR,[l[18]||(l[18]=Z("header",{class:"demo-header"},[Z("h2",null," 1. Demostracin de Bondades de Vue 3"),Z("p",{class:"header-subtitle"}," Ejemplos interactivos para ilustrar la reactividad, propiedades computadas, enlace doble y la reutilizacin con props. ")],-1)),Z("div",OR,[Z("div",xR,[l[5]||(l[5]=Z("h3",null,'1. Reactividad con "ref"',-1)),l[6]||(l[6]=Z("p",null,"El contador se actualiza en tiempo real al hacer clic.",-1)),Z("div",kR,[Z("p",null,[l[4]||(l[4]=gr("Contador: ",-1)),Z("span",MR,Oe(t.value),1)]),Z("button",{onClick:l[0]||(l[0]=c=>t.value++),class:"demo-button success-button"}," Aumentar Contador ")])]),Z("div",LR,[l[10]||(l[10]=Z("h3",null,"2. Propiedad Computada",-1)),l[11]||(l[11]=Z("p",null,"Calcula el rea automticamente al cambiar el lado A o B.",-1)),Z("div",FR,[l[8]||(l[8]=Z("label",null,"Lado A:",-1)),ha(Z("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=c=>n.value=c),min:"1"},null,512),[[ya,n.value,void 0,{number:!0}]]),l[9]||(l[9]=Z("label",null,"Lado B:",-1)),ha(Z("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=c=>r.value=c),min:"1"},null,512),[[ya,r.value,void 0,{number:!0}]]),Z("p",UR,[l[7]||(l[7]=gr("rea Calculada: ",-1)),Z("span",BR,Oe(s.value),1)])])]),Z("div",jR,[l[14]||(l[14]=Z("h3",null,'3. Enlace Doble ("v-model")',-1)),l[15]||(l[15]=Z("p",null,"El input y el texto se sincronizan automticamente.",-1)),Z("div",qR,[l[13]||(l[13]=Z("label",null,"Escribe Aqu:",-1)),ha(Z("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=c=>i.value=c),placeholder:"Escriba algo..."},null,512),[[ya,i.value]]),Z("p",$R,[l[12]||(l[12]=gr("Valor Sincronizado: ",-1)),Z("span",HR,Oe(i.value),1)])])]),Z("div",zR,[l[16]||(l[16]=Z("h3",null,'4. Reutilizacin con "Props"',-1)),l[17]||(l[17]=Z("p",null,'Muestra el mismo componente "FeatureCard" con datos distintos.',-1)),Z("div",GR,[Wt(Uf,{title:"Tarjeta #1",value:5e3,color:"#42b883"}),Wt(Uf,{title:"Tarjeta #2",value:125,color:"#007bff"})])])])]))}},WR=fi(KR,[["__scopeId","data-v-742785aa"]]),QR=ZE({history:OE("/"),routes:[{path:"/",name:"upload",component:vR},{path:"/data",name:"data-list",component:PR},{path:"/vue-demo",name:"vue-demo",component:WR}]}),cm=Ky(rv);cm.use(QR);cm.mount("#app");
